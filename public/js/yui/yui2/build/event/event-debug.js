/*
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/

/**
 * The CustomEvent class lets you define events for your application
 * that can be subscribed to by one or more independent component.
 *
 * @param {String}  type The type of event, which is passed to the callback
 *                  when the event fires
 * @param {Object}  context The context the event will fire from.  "this" will
 *                  refer to this object in the callback.  Default value:
 *                  the window object.  The listener can override this.
 * @param {boolean} silent pass true to prevent the event from writing to
 *                  the debugsystem
 * @param {int}     signature the signature that the custom event subscriber
 *                  will receive. YAHOO.util.CustomEvent.LIST or
 *                  YAHOO.util.CustomEvent.FLAT.  The default is
 *                  YAHOO.util.CustomEvent.LIST.
 * @param fireOnce {boolean} If configured to fire once, the custom event
 * will only notify subscribers a single time regardless of how many times
 * the event is fired.  In addition, new subscribers will be notified
 * immediately if the event has already been fired.
 * @namespace YAHOO.util
 * @class CustomEvent
 * @constructor
 */
YAHOO.util.CustomEvent = function(type, context, silent, signature, fireOnce) {

    /**
     * The type of event, returned to subscribers when the event fires
     * @property type
     * @type string
     */
    this.type = type;

    /**
     * The context the event will fire from by default. Defaults to the window obj.
     * @property scope
     * @type object
     */
    this.scope = context || window;

    /**
     * By default all custom events are logged in the debug build. Set silent to true
     * to disable debug output for this event.
     * @property silent
     * @type boolean
     */
    this.silent = silent;

    /**
     * If configured to fire once, the custom event will only notify subscribers
     * a single time regardless of how many times the event is fired.  In addition,
     * new subscribers will be notified immediately if the event has already been
     * fired.
     * @property fireOnce
     * @type boolean
     * @default false
     */
    this.fireOnce = fireOnce;

    /**
     * Indicates whether or not this event has ever been fired.
     * @property fired
     * @type boolean
     * @default false
     */
    this.fired = false;

    /**
     * For fireOnce events the arguments the event was fired with are stored
     * so that new subscribers get the proper payload.
     * @property firedWith
     * @type Array
     */
    this.firedWith = null;

    /**
     * Custom events support two styles of arguments provided to the event
     * subscribers.
     * <ul>
     * <li>YAHOO.util.CustomEvent.LIST:
     *   <ul>
     *   <li>param1: event name</li>
     *   <li>param2: array of arguments sent to fire</li>
     *   <li>param3: <optional> a custom object supplied by the subscriber</li>
     *   </ul>
     * </li>
     * <li>YAHOO.util.CustomEvent.FLAT
     *   <ul>
     *   <li>param1: the first argument passed to fire.  If you need to
     *           pass multiple parameters, use and array or object literal</li>
     *   <li>param2: <optional> a custom object supplied by the subscriber</li>
     *   </ul>
     * </li>
     * </ul>
     *   @property signature
     *   @type int
     */
    this.signature = signature || YAHOO.util.CustomEvent.LIST;

    /**
     * The subscribers to this event
     * @property subscribers
     * @type Subscriber[]
     */
    this.subscribers = [];

    if (!this.silent) {
        YAHOO.log( "Creating " + this, "info", "Event" );
    }

    var onsubscribeType = "_YUICEOnSubscribe";

    // Only add subscribe events for events that are not generated by
    // CustomEvent
    if (type !== onsubscribeType) {

        /**
         * Custom events provide a custom event that fires whenever there is
         * a new subscriber to the event.  This provides an opportunity to
         * handle the case where there is a non-repeating event that has
         * already fired has a new subscriber.
         *
         * @event subscribeEvent
         * @type YAHOO.util.CustomEvent
         * @param fn {Function} The function to execute
         * @param obj <Object> An object to be passed along when the event fires.
         * Defaults to the custom event.
         * @param override <boolean|Object> If true, the obj passed in becomes the
         * execution context of the listener. If an object, that object becomes
         * the execution context. Defaults to the custom event.
         */
        this.subscribeEvent =
                new YAHOO.util.CustomEvent(onsubscribeType, this, true);

    }


    /**
     * In order to make it possible to execute the rest of the subscriber
     * stack when one thows an exception, the subscribers exceptions are
     * caught.  The most recent exception is stored in this property
     * @property lastError
     * @type Error
     */
    this.lastError = null;
};

/**
 * Subscriber listener sigature constant.  The LIST type returns three
 * parameters: the event type, the array of args passed to fire, and
 * the optional custom object
 * @property YAHOO.util.CustomEvent.LIST
 * @static
 * @type int
 */
YAHOO.util.CustomEvent.LIST = 0;

/**
 * Subscriber listener sigature constant.  The FLAT type returns two
 * parameters: the first argument passed to fire and the optional
 * custom object
 * @property YAHOO.util.CustomEvent.FLAT
 * @static
 * @type int
 */
YAHOO.util.CustomEvent.FLAT = 1;

YAHOO.util.CustomEvent.prototype = {

    /**
     * Subscribes the caller to this event
     * @method subscribe
     * @param {Function} fn        The function to execute
     * @param {Object}   obj       An object to be passed along when the event
     * fires.
     * @param {boolean|Object} overrideContext If true, the obj passed in
     * becomes the execution.
     * context of the listener. If an object, that object becomes the execution
     * context.
     */
    subscribe: function(fn, obj, overrideContext) {

        if (!fn) {
throw new Error("Invalid callback for subscriber to '" + this.type + "'");
        }

        if (this.subscribeEvent) {
            this.subscribeEvent.fire(fn, obj, overrideContext);
        }

        var s = new YAHOO.util.Subscriber(fn, obj, overrideContext);

        if (this.fireOnce && this.fired) {
            this.notify(s, this.firedWith);
        } else {
            this.subscribers.push(s);
        }
    },

    /**
     * Unsubscribes subscribers.
     * @method unsubscribe
     * @param {Function} fn  The subscribed function to remove, if not supplied
     *                       all will be removed
     * @param {Object}   obj  The custom object passed to subscribe.  This is
     *                        optional, but if supplied will be used to
     *                        disambiguate multiple listeners that are the same
     *                        (e.g., you subscribe many object using a function
     *                        that lives on the prototype)
     * @return {boolean} True if the subscriber was found and detached.
     */
    unsubscribe: function(fn, obj) {

        if (!fn) {
            return this.unsubscribeAll();
        }

        var found = false;
        for (var i=0, len=this.subscribers.length; i<len; ++i) {
            var s = this.subscribers[i];
            if (s && s.contains(fn, obj)) {
                this._delete(i);
                found = true;
            }
        }

        return found;
    },

    /**
     * Notifies the subscribers.  The callback functions will be executed
     * from the context specified when the event was created, and with the
     * following parameters:
     *   <ul>
     *   <li>The type of event</li>
     *   <li>All of the arguments fire() was executed with as an array</li>
     *   <li>The custom object (if any) that was passed into the subscribe()
     *       method</li>
     *   </ul>
     * @method fire
     * @param {Object*} arguments an arbitrary set of parameters to pass to
     *                            the handler.
     * @return {boolean} false if one of the subscribers returned false,
     *                   true otherwise
     */
    fire: function() {

        this.lastError = null;

        var errors = [],
            len=this.subscribers.length;


        var args=[].slice.call(arguments, 0), ret=true, i, rebuild=false;

        if (this.fireOnce) {
            if (this.fired) {
              return fof event</l), r    =[].slice.calith as an array</li>
     *   <llastError = null;

        rwit of the listener. If of event</l), r    =[].sideContext);

  f (of event</l), r    =[]{ ais uwet.     * @p*    f (!fns i>
     *   </ul>
     * @method fire
     * @pa-ccis i                   elh=nselE?
     n|Obje,@p* r erkdFix(ncti        elh=nselE?
     n|Obje,@p* r erkdFix(ncti        elh=nselE?
     n|Obje,@pn: 2.*t=    * @p*    f s i>
     *   </ul>
 il.Subscriber(fadd subscribe events for    =[].sideCo "Firnot geeeeeee ais uee a  // +d fire
     * @paaaaaaaa"    : geeeeeeee aEvente a  // +d fire
     * @paaaaaaaa"e,@pn: 2.*t: genecri,d fire
     * @paaaaaaaa"y
    // Custommmmmmmmmmmmmmmmmms[i];
            if (//t.  Tha   py       var errors =   * Cust @typerror = nuf (//tObjs
 *x(!fnblemsull;

  
        }
 will ribe
    .        retur
     }
        }

    vent</((s);
       
                found = true;
            }        return found;
   !s
   !Fix; ++i) {
            ray</li>   *   </ul>
     * @method  * @p*    f (!fns i  }
         * @meEven(s);
       n found;
   r = nu===ns i ++i) {
            und;
   !dd subscribe events for                =[].sideCo/ Custtureppexec    geneie a     genecri,a"y
    // Custo    * @p*    f (!fn    *);
       n found;;;;;b</lk   * @p*    f (!fn}    elh=nselE?
     n|Obje,@p* r es i>
  (s i to tr = n)was created, a     *.call(argum@meEven(hod  * @p*      s i,,
    ==fal, ebug outs.getSbug (ble debug ),d fire
     * @paascribE(this.fi    } else nce &&scribE(this  elh=nselE?
   dd subscribe events for    =[].sideCo       var s =-> geneed by
    // CustomEvent
  n|Obje,@p* r eer(fn, objSubscriber= * Subscribes the caller to )hod  * @p*    f er(fEven) {
    >ce. events for        alse i      [0]     elh=nselE?
unction} fn  Tned+i) {
            ramany ix;l), r ebug ,,
    , e.Noti   </ul>
     * catch(       rwit of th@paascrue, i, rebuilde   * @p*    f (!fn//t (thisunctio     * @p*    f (!fn=[].sideCois ue a  
        }
istener s: gene ,," (thi  // Custo    * @p*    f (!fner(fn,ribE(thise events for            scribee   * @p*    f (!fn}    elh=nselE?
     n|Obaram {Function} fn  Tned+i) {
            ramany ix;l), r ebug ,,      varmeEven, e.Noti   </ul>
     * catch( x      rwit of th@paascrue, i, rebuildex   * @p*    f (!fn=[].sideCois ue a  
        }
istener s: gene x,," (thi  // Custo    * @p*    f (!fner(fn,ribE(thise events for            scribeex   * @p*    f (!fn}    elh=nselE?
     n|Obje,@p* r es i>
  s iwas created, and with theRwill rib   t lives or.
     * @returthis.subscribe) {

        this     jectnum  }
   t lives onthis.subscr of even      for (var i=ibe.call(arguments,@p* r e    l  }
        }

    v {
   an n, obj)) {
    i=l-1   >-1   --scribes subscribers.
e callback functionsbje,@p* r erkdFi    }

    =
    // O r es i>
  lwas created, and with the* @reture callboolean} farivat var args=[].se callb.call(argums
 *xents,@p* r e       }
        }

      
 *x]     elh=n
    scribes subscrib callby ix;;ibes subscrib callby iNot[i];
            if (//t
        }

      
 *x]==false,@p* r erkdFi    }

    .spnt</( 
 *x, 1)was created, and with the* @returtoSerty scope
     * @oSerty .call(arguments,@p* r ees i>
  "s the calle: gene"}

        var ene"} // +d fire
     * "  *   <: generatedebug bscriberse, annnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn * custom re c following param y
  rmabscribe. many ob the
         * executiires.
     * @param {boolean|bject} overrideContext Ife, the obj passed in
     * bue, the obj passed in becomes the
         * execthe signature that thhe execution
     * context.
     */
    suid callback for subscribrue otherwise
     */
    firtext) {

        if (!fe type of e{
        ned to subscribers when the even object
 * =}

        if (this.subscribeEvent) {
       this.scope = c   *   <ry set  <li>The type from by default. Defaults to the windof
     * so var     */
    unsuul>
     * <n =}
n  if (!this.silentue, r listener sigature c<ry set  <ll
 *                   froms.silentby default. Defaults to the windotur     * so var true
     * to disable d    = * Subslang.isUn eventd(scrib?d=fal : Not[i       this.scope =  that ne */
        this.se cust default@property ue eventd from by his.scopy fireOnc was ex (usu   yxt.
    e c<this"   /**
  ust defaul)() {

   Bed fastomEe execution
    *
     ,subscribeType, this, tid callback fer sig) {

   sambiguate mulsuidignature || YAHOject se execution
    is
throw new Error) {

   sambigud callback fe" + this.type o the windot execution
        * so var bject betrue
     * to disable d  execution
    =ot execution
   [i e, and
 * tRmEvent.LIscribeType, this, tie custom   if (!fn)ct se execution
    t of fal*
     * *

    /**
      t  <li>Tck fe" + thiect se execution
    is
throw new Error is
by hi*e
     * @
         t =  that nethis, ticribe many outiire @returgetSbug Ife, the obj passed  that nSbug >
     *   <l*
 usibeAll(om   if (!f dolba   ibrue otherwise
     */
    firhhe execut i  conwhen the even object
 *o execute
.getSbug  =}

        that nSbug ents,@p*er(fn, ob.subscribeEvent) {
   firhher(fn, ob.subscribeEventu===nhe su++i) {
            var s = Not[i];
      aram {Function} fn      var s = N execution
   [i];
      
     
        var that nSbug ; e, and
 * tRmEvent.LcribeAll();<n uted    match nt pass tru  The LISiecutiirUs = signatufor (var i=  @returto match nteclass  to execute
  *tiire @retur  /**
  tiires.
     * @param {botject} overrideContext Ife, the obj passed     ae, the obj passed in becomes the
         * execthe s    this.lastErrotcribeAll();
 ou subshe subscrimatch nt pibrue otherwise
     *to execute's[]
     */ conwhen the even object
 *o execute
.  /**
  u=}

        if (thents,@p*er(f(thents,@p*        var(   * <n ==}
n|Obje,@p*    == Noti   </u aram {Function}     var(   * <n ==}
nEvent
   e, and
 * t* @returtoSerty scnwhen the even object
 *o execute
.toSerty u=}

       ents,@p*s i>
  " object
 * { Not: generated
    +d fire
     "is.subscribeEvent: gene(fn, ob.subscribeEventu|| "no")e a  }"; e, and
 * te =  CusttUeve    iber.
   ueve   * fe cumanagty uDOM  CustsOO.utilaspibrue cuy</litomEvent
 LIST os  *tiire odulof the li so itl=  CusttUeve   nce) {

    /**
     * The typrequ non-bed tscnwhann|bjectl.Cusi.Custc     Ewill be nowsuier(ir is
gumeubs firerron * ne.ann|@TODO nt paied sbj passcron/
    * Custtifiel();
t    data  Customd sbj ann|assets you d is
kep  "thil=  @retuan
   .sub   wf (/adeubsapaied  outnn|bjis
mtErs* Cust @t  odulofpawf 
  can'te many out?
       } else nce &) {
 nd
 * te = vent
 ueve    iber.
   ul>
     *j pom eO.ut will default@properts,
copy firecstErchediect      * r * fo pou*
 ent
   yx will dt lives oni li sreg liv ondurty unatufogume    * In *e type of ereturned tevent
   o disa    } else nce &u=}

       ents     if (/pportunity to
scribaftur apploogume    * f evewas fired wty to
turns threeumeCompallbooleanty to
t are stored
     *ty to
tevent
  ed wty to
turivat var arty tomake it po    lumeCompallbu=}             if (/pportunity to
Cd =     wrappex t lives or.
   ty to
turns three lives or.
   ty to
t are as.
     * ty to
tevent
  ed wty to
turivat var arty tomake it pot lives onfireOn      if (/pportunity to
Us r- eventd fogume t} overridy set  <li>Tx(nctibeffireb     * haortunity to

   ound = fr.
   ty to
turns threfogumeL lives or.
   ty to
t are as.
     * ty to
tevent
  ed wty to
turivat var arty tomake it pofogumeL lives onfireOn     if (/pportunity to
jectnum  }
   * @propo po   aftur s even.oogumeers thatnum  }
 that has
    in was mulsftype booltenlat -bexecuunctionan
   reques ex afturhat has
    if (!age guments proty to
turns thres iryCexet    * ty to
tevent
  ed wty to
turivat var arty tomake it pos iryCexetonalOn     if (/pportunity to
onAvaild to t lives or.
   ty to
turns threonAvailSt   re  * ty to
tevent
  ed wty to
turivat var arty tomake it poonAvailSt   nfireOn     if (/pportunity to
Cexeterue cuou*
 idwhenever/
    unsty to
turns threcexeterre  * ty to
tevent
  ed wty to
turivat var arty tomake it pocexeteronalOn     if (/pportunity to
N rmalizex keycod* fe cuwebkit/safari   unsty to
turns threwebkitKeymapr.
   ty to
t are s   :eter}  ed wty to
turivat var arty to
tevent
  ed wty to
tvenalvar arty tomake it poewebkitKeymap                 63232: 38,(//tup             63233: 40,(//tvenn             63234: 37,(//tleft             63235: 39,(//tlass              63276: 33,(//t!age up             63277: 34,(//t!age venn             25: 9      //tSHIFT-TAB (Safaririber.
     differ * fkey cod* subscribbbbbbbbbbbbbbbbbbb//t
   t
   ,   * tErrugh ntecshiftKey  odl ofty ue fa)i];
      On     if (isIE = * Subsenv.ua.i        if (//tSerty uil.Custosany obsignatuypeFo /*L lives eO.ut will Fo /*L lives e @retua      if (FOCUSINeTypfo /*in",     if (FOCUSOUTeTypfo /*out"   // O r es i>
  od  * @p*    f /pportunity ttttto
jectnum  }
   * @prowecshoulx toodeConteley
     *hat fires ortunity ttttto
  this.DOM ust @t ady bperty fireOncreques ex aftur t =  o /m
         * Dtttto
 eveents gumeub * will only noti 500@amp;40 mn, eo(ir t  <lloll       * Dtttto
Cont20e fil.uanontxetileb   outCustitomEunctionan
   bexec       * Dtttto
(this"atingcallbatl.Cu).       * Dtttto
turns threPOLL_RETRYS       * Dtttto
ty subscribers
 * Dtttto
tevent
  ed wty ttttto
tvenalvar arty ttttto/var arty ttttPOLL_RETRYS: 500,d  * @p*    f /pportunity ttttto
jectpo   ieterva  ie m  <i fil.ua       * Dtttto
turns threPOLL_INTERVAL       * Dtttto
ty subscribers
 * Dtttto
tevent
  ed wty ttttto
tvenalvar arty ttttto/var arty ttttPOLL_INTERVAL: 40,d  * @p*    f /pportunity ttttto
Eley
  bj pa ev,bscruil.Custo       * Dtttto
turns threEL       * Dtttto
ty subscribers
 * Dtttto
tevent
  ed wty ttttto
tvenalvar arty ttttto/var arty ttttEL: 0,d  * @p*    f /pportunity ttttto
j    * The contscruil.Custo       * Dtttto
turns threTYPE       * Dtttto
ty subscribers
 * Dtttto
tevent
  ed wty ttttto
tvenalvar arty ttttto/var arty ttttTYPE: 1,d  * @p*    f /pportunity ttttto
F} overrideContext ntscruil.Custo       * Dtttto
turns threFN       * Dtttto
ty subscribers
 * Dtttto
tevent
  ed wty ttttto
tvenalvar arty ttttto/var arty ttttFN: 2,d  * @p*    f /pportunity ttttto
F} overriwrappex Cont  *   <lcorreoverriO.utcstErupntscruil.Custo       * Dtttto
turns threWFN       * Dtttto
ty subscribers
 * Dtttto
tevent
  ed wty ttttto
tvenalvar arty ttttto/var arty ttttWFN: 3,d  * @p*    f /pportunity ttttto
Oambiguate mulsuidignatuny ridy set  <li>T[],
     evenortunity ttttto

     *                  ntscruil.Custo * S>All oc   * @event stttto
fogume t lives or.
   ty ttttto
turns threOBJ       * Dtttto
ty subscribers
 * Dtttto
tevent
  ed wty ttttto
tvenalvar arty ttttto/var arty ttttUNLOAD_OBJ: 3,d  * @p*    f /pportunity ttttto
Adjus ex 
     * @ei

   pertyley
  bwen
   reg liv ty unatu the listenty ttttto
o   *

    /**
     biguate mulsuidignatut lives ntscruil.Custo       * Dtttto
turns threADJ_SCOPE       * Dtttto
ty subscribers
 * Dtttto
tevent
  ed wty ttttto
tvenalvar arty ttttto/var arty ttttADJ_SCOPE: 4,d  * @p*    f /pportunity ttttto
jectolasenal     */
    suj pom L if (!fe      * Dtttto
turns threOBJ       * Dtttto
ty subscribers
 * Dtttto
tevent
  ed wty ttttto
tvenalvar arty ttttto/var arty ttttOBJ: 5,d  * @p*    f /pportunity ttttto
jectolasenal   *   <l
     *   */
    suj pom L if (!fe      * Dtttto
turns threOVERRIDE       * Dtttto
ty subscribers
 * Dtttto
tevent
  ed wty ttttto
tvenalvar arty ttttto/var arty ttttOVERRIDE: 6,d  * @p*    f /pportunity ttttto
jectolasenal  apcribe
     *   */
    suj pom L if (!fe      * Dtttto
turns threCAPTURE       * Dtttto
ty subscribers
 * Dtttto
tevent
  ed wty ttttto
tvenalvar arty ttttto/var arty ttttCAPTURE: 7,d  * @p*    f /pportunity ttttto
om L if (!f/ will Lparam {int} scribee(this.suiunex>Al ex scenarios.       * Dtttto
jecseee(this.null;upets sexec @t  @returtatic
 *      OO.util.  The LIST type  * Dtttto
 ue fae      * Dtttto
turns three
 * parameters * Dtttto
tevent
  ed wty ttttto
the event type, tty ttttto/var arty tttte
 * para:d=fal,d  * @p*    f /pportunity ttttto
Safarird * cr/
    unsty ttttto
turns threisSafari   unsty ttttto
turivat var arty ttttto
tevent
  ed wty ttttto
tdeetscs ex usib* Subsenv.ua.webkitype, tty ttttto/var arty ttttisSafari:b* Subsenv.ua.webkit,d  * @p*    f /pportunity ttttto
webkit endent    unsty ttttto
turns threwebkitype, tty ttttto * @property scope
ty ttttto
turivat var arty ttttto
tevent
  ed wty ttttto
tdeetscs ex usib* Subsenv.ua.webkitype, tty ttttto/var arty ttttwebkit:b* Subsenv.ua.webkit,d  * @p*    f /pportunity ttttto
IE d * cr/
    unsty ttttto
turns threisIE       * Dtttto
turivat var arty ttttto
tevent
  ed wty ttttto
tdeetscs ex usib* Subsenv.ua.i var arty ttttto/var arty ttttisIE: isIE,d  * @p*    f /pportunity ttttto
po   unctio   unsty ttttto
turns thre_ieterva var arty ttttto
tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttt_ieterva :d=fal,d  * @p*    f /pportunity ttttto
 o /m
   </l),
t    po   unctio   unsty ttttto
turns thre_dri   unsty ttttto
tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttte_dri:d=fal,d   * @p*    f /pportunity ttttto
Map * Ti>Allal int
 */
YAor.
   ty ttttto
turns thre_i>AllalT
YAor.
   ty ttttto
tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttt_i>AllalT
YAo: events for        fo /*in: (isIE ?ypfo /*in" :ypfo /*"),d fire
     * @pafo /*out: (isIE ?ypfo /*out" :ypblur")d fire
     *},d   * @p*    f /pportunity ttttto
scrib the
     o /m
   hat niti   yxued tor.
   ty ttttto
turns threDOMR/l),ype, tty ttttto * @prostored
     *ty ttttto
tevent
  ed wty ttttto/var arty ttttDOMR/l),:             if (  f /pportunity ttttto
E(this.scribuidigar errors = * T @type boolean
   ;
};

ortunity ttttto
o.util.Ce(thi  @ssage hat   wf (        fire oil.Coreiect ortunity ttttto
il.  The LIST
 ue fa *
     ,sir t  <l    *re-scribeevent.
      tttto
e(thi.       * Dtttto
turns thren,ribE(thisype, tty ttttto * @prostored
     *ty ttttto
t that new subscribety ttttto/var arty ttttn,ribE(this:              if (  f /pportunity ttttto
when the tartIeterva var arty ttttto
tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttt tartIeterva .call(arguments,@p* r eeeeeeeee?
   dd su_ieterva e events for            //e     elf  }
      * @p*    f (!fn    //e             =}

       ent  elf._tryPregumeAtnd =(); }   * @p*    f (!fn    //edd su_ieterva any etIeterva (        ntdd suPOLL_INTERVAL    * @p*    f (!fn    dd su_ieterva any* Subslang.lat r(dd suPOLL_INTERVALption, thd su_tryPregumeAtnd =,d=fal,the subsp*    f (!fn    }d fire
     *},d   f (!fn    /pportunity ttttto
Entext  followiou subs         fromfolloitemd with as *             ty ttttto
id is
vent ers that a
mtErtibe. many obt exceptionbehavi cuosype, tty ttttto sorriOsmost recenas if (!age gumesject supplusnature aftur t =      ty ttttto
initi  (!age gume(ir t  <llollue cuo fix obtdy be cust deley
  .       * Dtttto
jectnum  }
   * @proir t  <llolluo.util.Cfrequencyerror = nuf (Dtttto
 In addid tojecy silent
  ir t  <llollue cu10e fil.ua.       * Dttttor = nuf (Dtttto
<p>e = c   *   <i   </ul>
     * @has alre
     *  :ortunity ttttto
il   /**
     biguat    *   is
 li>
    .</p>       * Dttttor = nuf (Dtttto
when theonAvaild to       * Dttttor = nuf (Dtttto
wthe objperty ||perty []d iniutil.Ciut
      eley
  ,  *
thod firr = nuf (Dtttto

  i sbj ptoodeCon.       * Dtttto
tuhe objf* @param {bowCust oThe type from by deley
  bis
vent e       * Dtttto
tuhe objopassed in
   ae, r listen the obj passed in b*   <osype, tty ttttto                   a

     *      fne       * Dtttto
tuhe objbject betrue
 thhe execution
     *  fa *
     ,s{bow  <l @param override tttto                    to prevext) {

  (thisi*  fa *
 ae, the obitype, tty ttttto                   w  <l @param  to prevext) {

  rror("Inval       * Dtttto
tuhe obcheckion
   bs.lastErrocheckochild nod* </l)in  * (onion
   R/l),)       * Dtttto
tevent
  ed wty ttttto/var arty ttttonAvaild to.call(argumsd,s{bf (this.subscribeEvent,bcheckion
   )hod  * @p*    f     eturnany(* Subslang.isSerty msd)ib?d[id] :yids);
       n found;
               a          =i+1e events for            onAvailSt   unctio{id:         a[i],d fire
     * @paaaaaaaa
       n found;
n: n found;
n,d fire
     * @paaaaaaaa
       n found;Not:  found;Not,d fire
     * @paaaaaaaa
       n found;NsubscribeEvent: d;NsubscribeEvent,d fire
     * @paaaaaaaa
       n found;checkR/l),: checkion
   b}ubsp*    f (!fn    }dsp*    f (!fn    s iryCexetonadd suPOLL_RETRYSs);
       n found;ratedetartIeterva (i   </ul>
     *,d   f (!fn    /pportunity ttttto
Work follow    waynas onAvaild to   (e.ype boolte yxchecks t =      ty ttttto

t    * TirectomEvley
     o d * rment,eAll();con
   b
     ortunity ttttto
ovaild to eley
  bis
safent e odl y.       * Dttttor = nuf (Dtttto
<p>e = c   *   <i   </ul>
     * @has alre
     *  :ortunity ttttto
il   /**
     biguat    *   is
 li>
    .</p>       * Dttttor = nuf (Dtttto
when theonion
   R/l),       * Dttttor = nuf (Dtttto
wthe objperty d iniutil.Ciut
      eley
  bj ptoodeCon.       * Dtttto
tuhe objf* @param {bowCust oThe type from by deley
  bis
</l),e       * Dtttto
tuhe objopassed in
   ae, r listen the obj passed in b*   <osype, tty ttttto                   a

     *      fne       * Dtttto
tuhe objbject betrue
 thhe execution
     *  fa *
     ,s{bow  <l @param override tttto                    to prevext) {

  (thject sthrow new E{bow  < override tttto                    @patram  to prevext) {

  rror("Inval       * Dtttto       * Dtttto
tevent
  ed wty ttttto/var arty ttttonion
   R/l),.call(argumsd,s{bf (this.subscribeEvent      rwit of th@paascrueonAvaild tomsd,s{bf (this.subscribeEvent,bhe subsp*    f (!fn},d   f (!fn    /pportunity ttttto
Entext  followiou subs         fromfolloDOM ibatl.Cuxued toers thaortunity ttttto
w  <l @param  fireOnce = firn objx aftur t = DOMR/l),    * f evortunity ttttto
e
     * * odo t = DOMion
   R/l),    * fdolba   

YAHOfrom by his.scty ttttto
errop bis
dynamt
   yxinjAl ex ters to p!ageers thatmtErs* C his.scty ttttto
DOMR/l), cribers will be noeating
YAHO toFYAHFox  *
OperaOfrom by his.scty ttttto
liburnedhat njAl exiect  _be n_g
YAHO toSafari,uo.util.CIE       * Dtttto
impaly
  abscriwoulx a/li>;
   us 1;

YAHOit,eAll();dan} ex scrop        * Dtttto
iba   
ovaild toiecW  wan     * j pashavototype)
 O tob   browsall will b * Dtttto
Is* C ireb wayn*
 id
  mmedfromfolloerrop b eveents  njAl ex      ty ttttto
inst/l)

  includex tectoe? 
Is* C ireb wayn*
 kni>;se;

   by his.scty ttttto
ts are logume    * f evewas f    *ou f evtomEunx a   if (!f atnd = fr.
   ty ttttto
to(ir tromfir di    ?       * Dttttor = nuf (Dtttto
<p>e = c   *   <i  a       * a n,   * CCustomEvent.is:</p>       * Dtttto
<p> @pro&lt;perty &gt;meEveno&lt;d fir&gt;mecriber the ob&lt; the o&gt;</p>       * Dtttto
<p> firDOMR/l),    * , thdtyperrotObj
YAHOOrg[].slic  * CChis.scty ttttto
etomEvent.is:</p>       * Dtttto
<p>"DOMR/l),",ireO (th</p>       * Dttttor = nuf (Dttttor = nuf (Dtttto
when theonDOMR/l),ype, tty ttttto       * Dtttto
tuhe objf* @param {bowCust oThe type from by deley
  bis
vent e       * Dtttto
tuhe objopassed in
   ae, r listen the obj passed in b*   <osype, tty ttttto                   a

     *      fne       * Dtttto
tuhe objbject betrue
 thhe execution
     *  fa *
     ,s{bow  <l @param override tttto                    to prevext) {

  (thisi*  fa *
 ae, the obitype, tty ttttto                   w  <l @param  to prevext) {

  rror("Inval       * Dtttto       * Dtttto
tevent
  ed wty ttttto/var arty tttt//eonDOMR/l), }

        if (this.subscribeEvent) {
ar arty ttttonDOMR/l), }

             rwit of th@paascrueDOMR/l),callerle listene to y(scrueDOMR/l),calle,she subscrubsp*    f (!fn},d    f (!fn    /pportunity ttttto
Ap @par
      * f ectionr = nuf (Dttttor = nuf (Dtttto
when the_om L if (!fe      * Dtttto       * Dtttto
tuhe objSerty |HTMLEley
  |rs.
 |Nod*L if aratue,ixecutdeley
  ype, tty ttttto  ean} e new  cuo coobjoverri
  i sbect/onteley
     
 asetom* CChis.scty ttttto
   if (!f toe       * Dtttto
tuhe objtext the  sj        at was passed int  
 ap @pa       * Dtttto
tuhe obj * @param {boolean|Objec @returterty fireOnvokAor.
   ty ttttto
tuhe obj passed in
     *Aers returnedture c<ry set  <lbm override tttto                             ed in bes a

     *      e: functionr.
   ty ttttto
tuhe objBject betrue
 thhe execution
      * context.
     */
    suid callb override tttto                             LIscribeType, this, ti
        if (!fn) {
th override tttto                             ow new Err pass trued callback for subscriber tide tttto                             e" + this.typety ttttto
tuhe objbjectn}      eapcribeeapcribe cuy<b to p evor.
   ty ttttto
ts i>
  oBis.unsubscribeAll();aoverriw of uccessfule cudan} ex,iber tide tttto                        r = null;

   nt fire
      eley
  b override tttto                        coulx    
havototyp  if (!f atnd = f,iber tide tttto                         nteAll();ns tabscrib,ribr
     * @type.       * Dtttto
turivat var arty ttttto
tevent
  ed wty ttttto/var arty tttt_om L if (!f }

       el, eexcept{bf (this.subscribeEvent,bbCapcrib)hod  * @p*    f      i<len;
   !x;l), re events for            =[].sideCosj     a  om L if (!f r ilev,bsc, obj, overrid",," (thi  // Custo    * @p*    f (!fnnnnnn the evns(fn, obj)) {{{{{{{{{}dsp*    f (!fn    nn|bjecrattomEvent.       thod firassedley
    onteley
   i s.  * @p*    f      i<l dd su_isV objCoobjoverr elifies the subscriberssssstype kuted
     * from the         
                el                found = true;
                  kutedcrueon el[i],d fire
     * @paaaaaaaa
       n found;eexcepd fire
     * @paaaaaaaa
       n found;
n,d fire
     * @paaaaaaaa
       n found;Not,d fire
     * @paaaaaaaa
       n found;NsubscribeEvent)|Objok   * @p*    f (!fnnnnn}  * @p*    f (!fnnnnnn the eok  , obj)) {{{{{{{{{}aram { i<l* Subslang.isSerty melifies the subscriberssssstype El  }
    getElmeli   * @p*    f (!fn    //eI      elttomEvent.i  a perty ,bwen
ssumHOit,es  * @p*    f (!fn    //eaovu   yxt.
 iut
      eley
  ject sif (!age is
gumeub  * @p*    f (!fn    //ewrevexsubt elt   e: faovu   eley
  ,           we  * @p*    f (!fn    //edan}  atnd =ty unatu the txetilelogume    * f exect  * @p*    f (!fn    //echeckotiple { i<wreied by b cairahookty uupunatu the listenty ttttt!fn    //exetilebftur t = !age gumesjlistenty ttttt!fn    er(f(Ere events for                el  }(Er   * @p*    f (!fnnnnn} @method fire
     * @pa(!fn    //edan}  addty unatu the txetileby deley
  bis
availd to       * DtttttttttttttttscrueonAvaild tomel, 

             rwit of th@paaaaaaaaaaaaa    } else nce &&_om L if (!f el, eexcept{bf (this.subscribeEvent,bbCapcrib)   * @p*    f (!fnnnnnnnnn}(s);
       n found;;;;;;;;;s i>
     *   </ul>
     nnnnnnnn}, obj)) {{{{{{{{{}dsp*    f (!fn    nn|Eley
  bshoulx    thoindedeley
  b *
thod fir{ i<wregfae      * Dtttt   nn|dtyp.  * @p*    f      i<l!e e events for            //escrue, */
r.fire ("unaecent eatnd =u the tgeneeTt.     * @p*    f (!fn;;;;s i>
  vns(fn, obj)) {{{{{{{{{}dsp*    f (!fn    nn|wreied by b.  Thsribew>Tx(nc reg liv td fogume   * haortunity t!fn    nn|uriorfo pou*
 ent
   yxunhookty uby r caSoew>Tron/    ioortunity t!fn    nn|tecseeinst/l)

  atnd =ty unatmtom events are o.utx(nc  CChis.scty ttttt   nn|dnctio   <pnt<it yxdurty ussed

  fogume    * In * @p*    f      i<l"fogume" ==}sj    Objo   to tscrue events for            fogumeL lives o[fogumeL lives o       ]he rest of the subsssssssssssss[el, eexcept{bf (this.subscribeEvent]   * @p*    f (!fn;;;;s i>
     *   </ul>
     nnnn}dsp*    f (!fn    nn|scrue, */
r.fire ("AditomEunction: gene le a  // +eeTt.    sp*    f (!fn    nn|eAll();ny richoospropo     signatue 
     * @welusnatu fer sig) {

  f (!fn    nn|   biguate mulsu @
         t = or subsy uil.s, ticribe ma CChis.scty ttttt   nn|HTML eley
  bjCust @t y fireOncreg liv td criber tide tttt sstypeil.s, ti= el   * @p*    f (!fner(f.subscribeEvent      rwit of th@paa(!fner(f.subscribeEventu===nhe su++i) {
                    il.s, ti= Not[i];
                 } @method fire
     * @pa(!fn    il.s, ti= N execution
   [i];
                 }, obj)) {{{{{{{{{}dsp*    f (!fn    nn|wrapunatut} overrisoew>T        var s
        e c<theriber tide tttt ssnn|tec    * f exec[i];
             typewrappexFn =}

       su++i) {
                    s i>
  v;l), r 
     * @    } else nce &&getEen on ,  l),d fire
     * @paaaaaaaaaaaaaaaaaNoti   </ul>
     {{{{{{{{}  sp*    f (!fn        linfirel, eexcept{bf wrappexFnpe
     * @(this.subscribeEvent,bbCapcrib]   * @p*    f (!fn     
 *x(= t lives o) {
     ber tide tttt ssnn|cd =  otyp  if (!f soew>T    Tnedo pou*
 ent
   yxungume ber tide tttt sst lives o  
 *x](= t s);
       n found;rned+i) {
            und;rd su_simpalAdi el, eexceptwrappexFnpebCapcrib)   * @p*    f (!fn* catch( x      rwit of th@paat ssnn|scribeE    (thi rnety un eatnd =u      * ject sit r ils  * @p*    f (!fn    //ewreied by bcstEruupunatucd = i) {
            und;rd su, i, rebuildex   * @p*    f (!fnund;rd su will Lparam { el, eexcept{b    * @p*    f (!fn;;;;s i>
  vns(fn, obj)) {{{{{{{{{}dsp*    f (!fn    s i>
     *  sp*    f (!fn},d   f (!fn    /pportunity ttttto
Checks tiple { i<tt was pareques ex i  a p>Allal as portunity ttttto
(aue eventd dignatu_i>AllalT
YAof evh),uo.utn arso)rtatic
 ortunity ttttto
 CCus>Allal as per</l.       * Dttttor = nuf (Dtttto
when the_getTs portunity ttttto       * Dtttto
tuhe objtext the  sj        at was paj ptoodeup             to
turivat var arty ttttto/var arty tttt_getTs p }

      criber)hod  * @p*    f         var s = _i>AllalT
YAo[iber]
   iber  sp*    f (!fn},d    f (!fn    /pportunity ttttto
Ap @par
      * f ectionr = nuf (Dttttor = nuf (Dtttto
when theom L if (!fe      * Dtttto       * Dtttto
tuhe objSerty |HTMLEley
  |rs.
 |Nod*L if aratue,ixecutdeley
  ype, tty ttttto  ean} e new  cuo coobjoverri
  i sbect/onteley
     
 asetom* CChis.scty ttttto
   if (!f toe       * Dtttto
tuhe objtext the  sj        at was passed int  
 ap @pa       * Dtttto
tuhe obj * @param {boolean|Objec @returterty fireOnvokAor.
   ty ttttto
tuhe obj passed in
     *Aers returnedture c<ry set  <lbm override tttto                             ed in bes a

     *      e: functionr.
   ty ttttto
tuhe objBject betrue
 thhe execution
      * context.
     */
    suid callb override tttto                             LIscribeType, this, ti
        if (!fn) {
th override tttto                             ow new Err pass trued callback for subscriber tide tttto                             e" + this.typety ttttto
ts i>
  oBis.unsubscribeAll();aoverriw of uccessfule cudan} ex,iber tide tttto                        r = null;

   nt fire
      eley
  b override tttto                        coulx    
havototyp  if (!f atnd = f,iber tide tttto                         nteAll();ns tabscrib,ribr
     * @type.       * Dtttto
tevent
  ed wty ttttto/var arty ttttom L if (!f }

        el, eexcept{bf (this.subscribeEvent)hod  * @p*    f     etureapcribe= (osj    ==nFOCUSINe   sj    ==nFOCUSOUT)|Obj!* Subsenv.ua.i ib?dtcrib: 
     *   <llasttttttttt    var s = _om L if (!f el,  s = _getTs posj   ),s{bf (this.subscribeEvent,bcapcrib)  sp*    f (!fn},d    f (!fn    /pportunity ttttto
Atnd = s a
fo /*indefault@propertyrs to pa>All of teley
  bframeters * Dtttto
t = !urposp
   t livety ue cust dfo /*defaultom by deley
  'b override tttto descendstos.       * Dtttto
then theom Fo /*L lives e      * Dtttto       * Dtttto
tuhe objSerty |HTMLEley
  |rs.
 |Nod*L if aratue,ixecutdeley
  ype, tty ttttto  ean} e new  cuo coobjoverri
  i sbect/onteley
     
 asetom* CChis.scty ttttto
   if (!f toe       * Dtttto
tuhe obj * @param {boolean|Objec @returterty fireOnvokAor.
   ty ttttto
tuhe obj passed in
     *Aers returnedture c<ry set  <lbm override tttto                             ed in bes a

     *      e: functionr.
   ty ttttto
tuhe objBject betrue
 thhe execution
      * context.
     */
    suid callb override tttto                             LIscribeType, this, ti
        if (!fn) {
th override tttto                             ow new Err pass trued callback for subscriber tide tttto                             e" + this.typety ttttto
ts i>
  oBis.unsubscribeAll();aoverriw of uccessfule cudan} ex,iber tide tttto                        r = null;

   nt fire
      eley
  b override tttto                        coulx    
havototyp  if (!f atnd = f,iber tide tttto                         nteAll();ns tabscrib,ribr
     * @type.       * Dtttto
tevent
  ed wty tttto
tdeetscs ex usib* Subselse nce &&rriO.uta>All yypfo /*in" a ust defaulwas p.       * Dtttto/var arty ttttom Fo /*L lives  }

        el, {bf (this.subscribeEvent      rwit of th@paa    var s = N  el, FOCUSIN, {bf (this.subscribeEvent bsp*    f (!fn},d    f (!fn    /pportunity ttttto
Rwill rib
fo /*indefault@propertyrs to pa>All of teley
  bframeters * Dtttto
t = !urposp
   t livety ue cust dfo /*defaultom by deley
  'b override tttto descendstos.       * Dtttto       * Dtttto
then the will Fo /*L lives e      * Dtttto       * Dtttto
tuhe objSerty |HTMLEley
  |rs.
 |Nod*L if aratue,ixecutdeley
  ype, tty ttttto  ean} e new  cuo coobjoverri
  i sbect/onteley
     
  will ype, tty ttttto  otyp  if (!f </lie       * Dtttto
tuhe obj * @param {botjec @returterty fireOnvokAoject s{bohaortunity ttttto
 un eventdext.
neb     * hEunctionane cust das passed int rror = nuf (Dtttto
d will bis.typety ttttto
ts i>
  o.lastErrotcribeAll();una eviw of uccessful,ew subscribety ttttto @
        .       * Dtttto
tevent
  ed wty ttttto
tdeetscs ex usib* Subselse nce && will Lparam {iO.uta>All yypfo /*in" a ust defaulwas p.       * Dtttto/var arty tttt will Fo /*L lives  }

        el, {b      rwit of th@paa    var s =  will Lparam { el, FOCUSIN, {bubsp*    f (!fn},d   f (!fn    /pportunity ttttto
Atnd = s a
fo /*ou fefault@propertyrs to pa>All of teley
  bframeters * Dtttto
t = !urposp
   t livety ue cust dblurdefaultom by deley
  'b override tttto descendstos.       * Dtttto       * Dtttto
then theom BlurL lives e      * Dtttto       * Dtttto
tuhe objSerty |HTMLEley
  |rs.
 |Nod*L if aratue,ixecutdeley
  ype, tty ttttto  ean} e new  cuo coobjoverri
  i sbect/onteley
     
 asetom* CChis.scty ttttto
   if (!f toe       * Dtttto
tuhe obj * @param {boolean|Objec @returterty fireOnvokAor.
   ty ttttto
tuhe obj passed in
     *Aers returnedture c<ry set  <lbm override tttto                             ed in bes a

     *      e: functionr.
   ty ttttto
tuhe objBject betrue
 thhe execution
      * context.
     */
    suid callb override tttto                             LIscribeType, this, ti
        if (!fn) {
th override tttto                             ow new Err pass trued callback for subscriber tide tttto                             e" + this.typety ttttto
ts i>
  oBis.unsubscribeAll();aoverriw of uccessfule cudan} ex,iber tide tttto                        r = null;

   nt fire
      eley
  b override tttto                        coulx    
havototyp  if (!f atnd = f,iber tide tttto                         nteAll();ns tabscrib,ribr
     * @type.       * Dtttto
tevent
  ed wty ttttto
tdeetscs ex usib* Subselse nce &&rriO.uta>All yypfo /*out" a ust defaulwas p.       * Dtttto/var arty ttttom BlurL lives  }

        el, {bf (this.subscribeEvent      rwit of th@paa    var s = N  el, FOCUSOUT, {bf (this.subscribeEvent bsp*    f (!fn},d p*    f (!fn/pportunity ttttto
Rwill rib
fo /*ou fefault@propertyrs to pa>All of teley
  bframeters * Dtttto
t = !urposp
   t livety ue cust dblurdefaultom by deley
  'b override tttto descendstos.       * Dtttto       * Dtttto
then the will BlurL lives e      * Dtttto       * Dtttto
tuhe objSerty |HTMLEley
  |rs.
 |Nod*L if aratue,ixecutdeley
  ype, tty ttttto  ean} e new  cuo coobjoverri
  i sbect/onteley
     
  will ype, tty ttttto  otyp  if (!f </lie       * Dtttto
tuhe obj * @param {botjec @returterty fireOnvokAoject s{bohaortunity ttttto
 un eventdext.
neb     * hEunctionane cust das passed int rror = nuf (Dtttto
d will bis.typety ttttto
ts i>
  o.lastErrotcribeAll();una eviw of uccessful,ew subscribety ttttto @
        .       * Dtttto
tevent
  ed wty ttttto
tdeetscs ex usib* Subselse nce && will Lparam {iO.uta>All yypfo /*out" a ust defaulwas p.       * Dtttto/var arty tttt will BlurL lives  }

        el, {b      rwit of th@paa    var s =  will Lparam { el, FOCUSOUT, {b bsp*    f (!fn},d p*    f (!fn/pportunity ttttto
Rwill ribndefault@propert       * Dtttto       * Dtttto
then the will L lives e      * Dtttto       * Dtttto
tuhe objSerty |HTMLEley
  |rs.
 |Nod*L if aratue,ixecutdeley
  ype, tty ttttto  ean} e new  cuo coobjoverri
  i sbect/onteley
     
  will ype, tty ttttto  otyp  if (!f </lie       * Dtttto
tuhe objtext thesj    st das passed int  
  will e       * Dtttto
tuhe obj * @param {botjec @returterty fireOnvokAoject s{bohaortunity ttttto
 un eventdext.
neb     * hEunctionane cust das passed int rror = nuf (Dtttto
d will bis.typety ttttto
ts i>
  o.lastErrotcribeAll();una eviw of uccessful,ew subscribuf (Dtttto
d
        .       * Dtttto
tevent
  ed wty ttttto/var arty tttt will L if (!f }

       el, eexcept{b      rwit of th@paa     ,ecri,at s);
       n found;sj    =  s = _getTs posj   )  sp*    f (!fn    nn|bjecrattomEvent.       toperty scope
ty ttttt hher(fn   ssedl ==n"perty "      rwit of th@paat ssel  }
    getElmeli   * @p*    f (!fnnn|bjecrattomEvent.       thod firassedley
    onteley
   i s.  * @p*    f     }aram { i<l dd su_isV objCoobjoverr elifies the subscriberssssstype kuted
     * from the         
    i el       -1   >-1   --scribes subscribbbbbbbbbbbbb kute(r s =  will Lparam { el[i], eexcept{b  Objok i   </ul>
     {{{{{{{{}  </ul>
     {{{{{{{{n the eok  l>
     {{{{{{{{} scope
ty ttttt hher(fen;
   !x;l), re events for            nn|scrue, */
r.fire (" rebu, 

      
iba   
, obj,/ +e{b    * @p*    f (!fn;;;;//s i>
  vns(fn, obj)) {{{{{{{{{{{{{n the escrue!urgeEley
   el, {     OeTt.     * @p*    f (!fn} scope
ty ttttt hher(f"fogume" ==}sj   )hod  * @p*    f         
    i fogumeL lives o       -1   >-1   --scribes subscribbbbbbbbbbbbblinfifogumeL lives o[i]   * @p*    f (!fn;;;;t hher(flin&&  * @p*    f (!fn;;;;t hhbbbbli[0] ==}rat&&  * @p*    f (!fn;;;;t hhbbbbli[1] ==}sj    Ob  * @p*    f (!fn;;;;t hhbbbbli[2] ==}
nE     rwit of th@paaaaaaaaaaaaaaaaaafogumeL lives o spnt</( , 1)was crrrrrrrrrrrrrrrrrrrrrrrrrrrrr//exegumeL lives o[i]==false,@p* r eeeeeeeeeeeeeeeeeeeeeeeees i>
     *   </ul>
     nnnnnnnnnnnn}  </ul>
     {{{{{{{{} scope
ty ttttt hheeees i>
  vns(fn, obj)) {{{{{{{{{}dsp*    f (!fn    eturea = Itemd= =false  * @p*    f (!fnnn|bjec 
 *x(i  a hidd
ne
     *  ;aied  o  
  will sit rrig) {

  f (!fn    nn|tjec @returetomEvent.d causibe  t oftempbsy uny rs ioortunity t!fn    nn|tryuo.uti  Thadvstoage 
  i  "thich
iba   
ost rece.  * @p*    f          
 *x(= he subscr[3]se  * @p*    f (!fner(f"fo eventd"u===nh   sses
 *xents,@p* r ep*    f (!fne
 *x(=  s = _getCd = I
 *x(@properts, el, eexcept{b    * @p*    f (!fn} scope
ty ttttt hher(fe
 *x(>= 0ents,@p* r ep*    f (!fnea = Itemd= t lives o  
 *x]  l>
     {{{{{{{{} scope
ty ttttt hher(ferat   !ea = Iteme events for            nn|scrue, */
r.fire ("ea = e t lives a   

ent o    * @p*    f (!fnnnnnn the evns(fn, obj)) {{{{{{{{{}dsp*    f (!fn    nn|scrue, */
r.fire ("RwilltomEunction: gene le a  // +eeTt.    sp*    f (!fn        bCapcribd= ea = Item[scrueCAPTURE]u===nhe sb?dtcrib: 
     *   <llastttttttttrned+i) {
            und;rd su_simpalRwill  el, eexceptea = Item[scrueWFN]pebCapcrib)   * @p*    f (!fn* catch( x      rwit of th@paat ssrd su, i, rebuildex   * @p*    f (!fnund;n the evns(fn, obj)) {{{{{{{{{}dsp*    f (!fn    nn| will b eventrappex unctionr.
   ty ttttttttdeallbut lives o  
 *x][scrueWFN]n, obj)) {{{{{{{{{deallbut lives o  
 *x][scrueFN]n, obj)) {{{{{{{{{l lives o spnt</( 
 *x, 1)was crrrrrrrrrrrrr//tl lives o  
 *x]==false  * @p*    f (!fns i>
     *  sp*    f (!fn},d   f (!fn    /pportunity ttttto
RmEvent.LIscrv
  'bti rget eley
  jecSafarirso @r @proiber.
  ortunity ttttto
a s, tinod* OO.util.  i  au*
 ent
   yx wsolv          
        *ty ttttto
nod*'bt
  
  bs * Custitpashavom    Th
     browsall will b * Dtttto
e @returgetT rget       * Dtttto
tuhe objnce &}arv.LIscrv
         * Dtttto
tuhe obj.lastErro wsolv T   Nod* from  fa *
          
 rget'b override tttto                  
  
  bt  <li>T[],
      i<tt wa rget ivenortunity ttttto

















s, tinod*jectdeetscs ex,     
    nod* haortunity ttttto
                 ni>; wsolv   au*
 ent
   ys.typety ttttto
ts i>
  oHTMLEley
  }.LIscrv
  'bti rget       * Dtttto
tevent
  ed wty ttttto/var arty ttttgetT rget }

       ev,o wsolv T   Nod*      rwit of th@paa    ti= ev.a rget    ev.srcEley
  was crrrrrrrrrrrrr    var s =  wsolv T   Nod*(t bsp*    f (!fn},d p*    f (!fn/pportunity ttttto
Inrso @t
   lic   @tbrowsallbt  <l    vara 
    nod* hns.
 ortunity ttttto
e: faovu   eley
  <ry setabti rgeteeers thatn rmalizes* C his.scty ttttto
    var, ou be cugetT rgetOO.utgetRelat dT rget.       * Dtttto       * Dtttto
 {
tccesstomEa The LIST

      nod* b,ribr
    rebu, il.  i        * Dtttto
Thebab yxt.
 anonymous divntrapper Geck pom s hns.
  
        *ty ttttto
nod*sers that   T yxt  <ltifieoccur from awf mpbsy u 
 accessortunity ttttto
e: frelat dT rget. 
Inr
   t
   , wreii>; w  var=fal.d causiortunity ttttto
e: fanonymous divn  t
ompallb yxueelessOO.utw   oa   
kni>ortunity ttttto
wCust @t relat dwa rget weveencausibw>T   ' fefautget   * @event stttto
by deley
  'b 
  
  bnod*j       * Dtttto       * Dtttto
then the wsolv T   Nod*       * Dtttto
tuhe objHTMLEley
  }.nod* nod* boe wsolv s.typety ttttto
ts i>
  oHTMLEley
  }.LIscn rmizex nod*       * Dtttto
tevent
  ed wty ttttto/var arty tttt wsolv T   Nod* }

       nE     rwit of th@paarned+i) {
            und;er(fn|Obj3 ==}n.nod*j   )hod) {
            und;tttt w  var=.
  
  Nod*[i];
                 }, obj)) {{{{{{{{{} catch( )hod) {
            und; w  var=faln, obj)) {{{{{{{{{}dsp*    f (!fn    s i>
  nbsp*    f (!fn},d p*    f (!fn/pportunity ttttto
RwEvent.LIscrv
  'bt!ageXwill b * Dtttto
e @returgetPageXwill b * Dtttto
euhe objnce &}arv.LIscrv
         * Dtttto
ts i>
  oi  }.LIscrv
  'bt!ageXwill b * Dtttto
eevent
  ed wty ttttto/var arty ttttgetPageX }

       ev      rwit of th@paa    xi= ev.!ageX   * @p*    f (!fner(f!x|Obj0 to tx      rwit of th@paat ssxi= ev.cli
  X    0s);
       n found;;;;; i<l dd suisIE )hod) {
            und;ttttx +=  s = _getScrollLeft(i   </ul>
             }, obj)) {{{{{{{{{}dsp*    f (!fn    s i>
  xbsp*    f (!fn},d p*    f (!fn/pportunity ttttto
RwEvent.LIscrv
  'bt!ageYwill b * Dtttto
e @returgetPageYwill b * Dtttto
euhe objnce &}arv.LIscrv
         * Dtttto
ts i>
  oi  }.LIscrv
  'bt!ageYwill b * Dtttto
eevent
  ed wty ttttto/var arty ttttgetPageY }

       ev      rwit of th@paa    yi= ev.!ageY   * @p*    f (!fner(f!y|Obj0 to ty)hod) {
            und;yi= ev.cli
  Y    0s);
       n found;;;;; i<l dd suisIE )hod) {
            und;tttty +=  s = _getScrollTop(i   </ul>
             }, obj)) {{{{{{{{{}dssp*    f (!fn    s i>
  ybsp*    f (!fn},d p*    f (!fn/pportunity ttttto
RwEvent.LIsc!ageXOO.ut!ageY The LISi ribr
    
 *x   a fir will b * Dtttto
e @returgetXYwill b * Dtttto
euhe objnce &}arv.LIscrv
         * Dtttto
ts i>
  o[x, y]}.LIsc!ageXOO.ut!ageY The LISi ri
      ev
         * Dtttto
tevent
  ed wty ttttto/var arty ttttgetXY }

       ev      rwit of th@paas i>
  [
    getPageX ev , 
    getPageY ev ]bsp*    f (!fn},d p*    f (!fn/pportunity ttttto
RwEvent.LIscrv
  'btrelat dwa rgetwill b * Dtttto
e @returgetRelat dT rgetwill b * Dtttto
euhe objnce &}arv.LIscrv
         * Dtttto
ts i>
  oHTMLEley
  }.LIscrv
  'btrelat dT rgetwill b * Dtttto
eevent
  ed wty ttttto/var arty ttttgetRelat dT rget }

       ev      rwit of th@paa    ti= ev.relat dT rget   * @p*    f (!fner(f!t      rwit of th@paa(!fner(fev.a    ==n"mouseout")hod) {
            und;ttttti= ev.aoEley
  was crrrrrrrrrrrrrrrrr}aram { i<lev.a    ==n"mouseover")hod) {
            und;ttttti= ev.rrigEley
  was crrrrrrrrrrrrrrrrr}, obj)) {{{{{{{{{}dsp*    f (!fn    s i>
   s =  wsolv T   Nod*(t bsp*    f (!fn},d p*    f (!fn/pportunity ttttto
RwEvent.LIsctdy b
      ev
  ject sif (tdy biba   
includex,* C his.scty ttttto
y fireOnc odl ofx usty unatucur 
  btdy  will b * Dtttto
e @returgetTdy will b * Dtttto
euhe objnce &}arv.LIscrv
         * Dtttto
ts i>
  oDat }.LIsctdy b
      ev
         * Dtttto
tevent
  ed wty ttttto/var arty ttttgetTdy  }

       ev      rwit of th@paaer(ferv.ady fies the subscriberssssstypeti= new Dat ().getTdy (i   </ul>
             rned+i) {
            und;;;;;rv.ady (=  was crrrrrrrrrrrrrrrrr}acatch( x      rwit of th@paat ss    rd su, i, rebuildex   * @p*    f (!fnund;;;;;s i>
   was crrrrrrrrrrrrrrrrr}, obj)) {{{{{{{{{}dsp*    f (!fn    s i>
  rv.ady bsp*    f (!fn},d p*    f (!fn/pportunity ttttto
Cexsunie nec @reture custopPhe agabscri+ Thev
  Dlent
 will b * Dtttto
e @returstopEv
         * Dtttto
tuhe objnce &}arv.LIscrv
         * Dtttto
tevent
  ed wty ttttto/var arty ttttstopEv
   }

       ev      rwit of th@paaratedetopPhe agabscr ev was crrrrrrrrrrrrrscrue!hev
  Dlent
  ev was crrrrrrrrr},d p*    f (!fn/pportunity ttttto
Stop*defaultphe agabscrwill b * Dtttto
e @returstopPhe agabscrwill b * Dtttto
euhe objnce &}arv.LIscrv
         * Dtttto
tevent
  ed wty ttttto/var arty ttttstopPhe agabscr }

       ev      rwit of th@paaer(fev.stopPhe agabscr      rwit of th@paat ssev.stopPhe agabscr(i   </ul>
         } @method fire
     * @pa(!fnev.ca nelB<b to ted
     * from the     }d fire
     *},d   f (!fn    /pportunity ttttto
PrbooleanLIscilent
  behavi cu
      ev
         * Dtttto
t @returThev
  Dlent
 will b * Dtttto
euhe objnce &}arv.LIscrv
         * Dtttto
tevent
  ed wty ttttto/var arty ttttThev
  Dlent
  }

       ev      rwit of th@paaer(fev.Thev
  Dlent
       rwit of th@paat ssev.!hev
  Dlent
  i   </ul>
         } @method fire
     * @pa(!fnev.s i>
 V ou b=evns(fn, obj)) {{{{{{{{{}d)) {{{{{{{{{},d  * @p*    f /pportunity ttttto
Fipar
terty fireOn events are lw new Err= c   er's he subscrw  cortunity ttttto
On evenhe subscr

  an
      @retur to prev   st   urs that ahis.scty ttttto
y</ul>
  au*
 ent
   yxe cubooleanreg liv td b,riugh.LIscrv
         * Dtttto
manager,   * CCuimpaly
  !f shoulx    
n rmal yxied by b @param override tttto 
   t

      
ateb   will b * Dtttto
e @returgetEv
         * Dtttto
tuhe objnce &}ar
terty fire
     *   rrig e: functionr.
   ty ttttto
tuhe objHTMLEley
  }.bent Eleby deley
  botyp  if (!f iventnd = f   * @event stttto
ts i>
  once &}a    ev
         * Dtttto
tevent
  ed wty ttttto/var arty ttttgetEv
   }

       e,.bent El      rwit of th@paa    rv.lde    ts are.ev
  se  * @p*    f (!fner(f!ev      rwit of th@paa@paa    c  }
    getEv
  jc   erwas crrrrrrrrrrrrrrrrrwhito (ce events for                ev.ldc.he subscr[0]   * @p*    f (!fn;;;;t hher(fev.ObjEv
   ==}rv.cl.CuructorE     rwit of th@paaaaaaaaaaaaaabreak   * @p*    f (!fnnnnnnnnn}  </ul>
     {{{{{{{{{{{{c.ldc.c   erwas crrrrrrrrrrrrrrrrr}, obj)) {{{{{{{{{}dsp*    f (!fn    s i>
  rvbsp*    f (!fn},d p*    f (!fn/pportunity ttttto
RwEvent.LIsccharcod* f *
thoev
         * Dtttto
t @returgetCharCod*       * Dtttto
tuhe objnce &}arv.LIscrv
         * Dtttto
ts i>
  oi  }.LIscrv
  'btcharCod*       * Dtttto
tevent
  ed wty ttttto/var arty ttttgetCharCod* }

       ev      rwit of th@paa    cod* =}rv.keyCod*    ev.charCod*    0s);
       n found;//ewrbkit keytn rmalizabscrwill b * Dtttt  { i<l* Subsenv.ua.webkit.Obj(cod* hnewrbkitKeymapifies the subscriberssssscod* =}wrbkitKeymap[cod*]  l>
     {{{{{{{{} l>
     {{{{{{{{s i>
  cod*[i];
         },d p*    f (!fn/pportunity ttttto
Locatty unatusav     * hEunction data dig

      
re ortunity ttttto       * Dtttto
t @retur_getCd = I
 *x       * Dtttto
tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttt_getCd = I
 *x }

       a, el, eexcept{b  events for        fo            l=a               =i+1e events for                linfia[i]   * @p*    f (!fn;;;; i<l linnnnnnnnnnnnnnnnnOb  * @p*    f (!fn;;;;t hhbli[scrueFN] ==}
nnnOb  * @p*    f (!fn;;;;t hhbli[scrueEL] ==}ratnOb  * @p*    f (!fn;;;;t hhbli[scrueTYPE] ==}sj    )hod) {
            und;tttt w  variwas crrrrrrrrrrrrrrrrr}, obj)) {{{{{{{{{}dsp*    f (!fn    s i>
  -1[i];
         },d p*    f (!fn/pportunity ttttto
G (!fat ribnduniqu bIDbe cust deley
  ; i<i fdolba   
alr/l),ype, tty ttttto havoton  will b * Dtttto
e @returge(!fat Ia       * Dtttto
tuhe obeleby deley
  boo cr/ltr
tertidbframeters * Dtttto
ts i>
  operty d  @t rest
 ty uiut
      eley
         * Dtttto
tevent
  ed wty ttttto/var arty ttttge(!fat Ia }

       el      rwit of th@paa     di= el.ids);
       n found;er(f!id      rwit of th@paa(!fnedi= "yuievtau*
id-/ +ecexeterwas crrrrrrrrrrrrrrrrr++cexeterwas crrrrrrrrrrrrrrrrrel.idi= ids)rrrrrrrrrrrrrrrr}dsp*    f (!fn    s i>
  ids)rrrrrrrrrrrr},d    f (!fn    /pportunity ttttto
W  wan    passaecent eusibgetEley
   ByTagN)
 Oes a
coobjoverr override tttto 
 eatnd =u  griupassed ints ioursUnfratunnce =, difn} e         * Dtttto
browsallbs i>
  difn} e  */
YAo * T oobjoverrsers that

       override tttto 
es    o d * rment,eAll(); the obis a fir-   Tiect  t  <l     override tttto r il,eAll(); the obis ahod fir   (e.i   mptr will b * Dtttto
e @retur_isV objCoobjoverr       * Dtttto
tuhe oboll(); the ob*
  es meters * Dtttto
ts i>
  o.lastErrotcribeAll(); the obis a fir-   TOO.ut!opulat d       * Dtttto
tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttt_isV objCoobjoverr }

       oE     rwit of th@paarned+i) {
            und;s i>
  (bolllllllllllllllllllllObjnn| bis
so @rhty scope
ty ttttt hhwit of th@paar   sseo to t"perty "lObjnn| bis
   
aoperty scope
ty ttttt hhhhhhhhhhhhhhho       llllllllllllllObjnn| bis
 
 *x  scope
ty ttttt hhhhhhhhhhhhhhh!o.tagN)
 OlllllllllllObjnn| bis
   
an|HTML eley
  scope
ty ttttt hhhhhhhhhhhhhhh!o.alubt lllllllllllllObjnn| bis
   
aots arescope
ty ttttt hhwit of th@paar   sseo[0] to t"fo eventd"u)   * @p*    f (!fn* catch( x      rwit of th@paat ss=[].sideCo"nod* access  (thi (xf    ?)  //warno    * @p*    f (!fnnnnnn the evns(fn, obj)) {{{{{{{{{}dsp*    f (!fn},d p*    f (!fn/pportunity ttttto
turivat var arty ttttto
tThe LIST
elCd = i) {
         o
DOMdeley
  bcd = i) {
         o
tevent
  ed wty ttttto
tdeetscs ex Eley
   errotOb bcd = d duent eissues* Catebr    wheriber tide tttt*edley
    anc reill b O.utre-adeub  * @p*    f (o/var arty ttttelCd = : {*,d   f (!fn    /pportunity ttttto
Wtucd = edley
    bent  digideencausibwrom by dfogume    *  override tttto rexec,ew>T    n ptongereusibdocsubsc.getEley
  ByIa       * Dtttto
t @returgetE< override tttto tevent
  ed wty ttttto
turivat var arty ttttto
tdeetscs ex Eley
   errotOb bcd = d anyptonger  ed wty ttttto/var arty ttttgetEl.call(argumsd      rwit of th@paas i>
  fn   sseidi===n"perty "  ?bdocsubsc.getEley
  ByIamsd  : ids)rrrrrrrrrrrr},d   f (!fn    /pportunity ttttto
CstErseby deley
  bcd = i) {
         o
tdeetscs ex Eley
   errotOb bcd = d anyptonger  ed wty ttttto
t @returcstErCd = i) {
         o
tevent
  ed wty ttttto
turivat var arty ttttto/var arty ttttcstErCd =  }

          r},d   f (!fn    /pportunity ttttto
Cribers will st dfexecbwrom by ddersis
 
iti   yxusd to       * Dtttto @ will DOMR/l),callevar arty ttttto/var arty ttttDOMR/l),calle: new * Subselse       * a n("DOMR/l),",i* Sub, 0, 0, 1),d   f (!fn    /pportunity ttttto
hoodeup anypdan} r e t lives or.
   ty ttttto
t @retur_gume ber tide tttto
tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttt_gume:}

       su++i;
       n found;er(f!gumeCompallb      rwit of th@paat ssgumeCompallbuted
     * from the             EUute* Subselse nce &s);
       n found;;;;;nn|J    hne
   rDOMR/l), di  Ob bgo * fre cus  @tr/lscrwill b * Dtttt  {{{{{EU._r/l),((s);
       n found;;;;;nn|Availd to eley
  s may    
havotents d * l ex befonc  CChis.scty ttttt   ;;;;nn|ts are gume    * f exec. Tnedo pfi.util.meii>;s * Cust CChis.scty ttttt   ;;;;nn|by dfs!f ive fire   T yxo pget  (); nAvaild to    ificabscrs  * @p*    f (!fn    //ebefonc  CC|ts are gume    ificabscrwill b * Dtttt  {{{{{EU._rnePregumeAtnd =((s);
       n found;}d)) {{{{{{{{{},d  * @p*    f /pportunity ttttto
Firlback fDOMR/l),    * ft lives o st dfexs btdy  by ddecEvent.i ortunity ttttto
ued toer.
   ty ttttto
t @retur_r/l),ype, tty ttttto tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttt_r/l), }

       *      rwit of th@paa    EUute* Subselse nce &s)  rwit of th@paaer(f!EU.DOMR/l),      rwit of th@paat ssEU.DOMR/l),=   *  sp*    f (!fnnnnnnnnn//eF(nc  CC;con
   br/l), cribers will   rwit of th@paat ssEU.DOMR/l),Ev
  j exe((s);
       n found;;;;;nn|Rwill ack fDOMion
   Lumeub (FF/Opera)will b * Dtttt  {{{{{EU._simpalRwill  decEvent //DOMion
   Lumeub",iEU._r/l),    * @p*    f (!fn} p*    f (!fn},d   f (!fn    /pportunity ttttto
Poobty ue
      
 Custrunsebefonc  CC|logume    * f exec,iber tide tttto awf mpbsy u 
 atnd =u 
 DOMdNod*ribr
so  
ao st y rror = nuf (Dtttto
availd to       * Dtttto
t @retur_rnePregumeAtnd =ype, tty ttttto tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttt_rnePregumeAtnd = }

           )  rwit of th@paaer(f nAvailSt   u      l===n0ents,@p* r ep*    f (!fns iryCexetute0   * @p*    f (!fn;;;; i<ldd su_ietervare events for                nn|cstErIetervarldd su_ietervare   * @p*    f (!fnnnnnnnnndd su_ietervar.ca nel(i   </ul>
             nnnndd su_ietervard= =falsel>
             nnnn}  </ul>
     {{{{{{{{n the   l>
     {{{{{{{{} scope
ty ttttt hher(fscrue, cked      rwit of th@paa(!fnn the   l>
     {{{{{{{{} scope
ty ttttt hher(fscrueisIEe events for            nn|Hold * frer(DOMR/l),  eve   

YAHb O.utcheckocur 
  vents for            nn|r/l),St tent eThe* l  against  CC|IE;ns tabscriabort d       * Dtttt       nn|issuejlistenty ttttt!fn    er(f!scrueDOMR/l),      rwit of th@paat ss    rd suevertIetervarli   </ul>
             nnnnn the   l>
     {{{{{{{{{{{{}, obj)) {{{{{{{{{}dsp*    f (!fn    scrue, ckeduted
    sp*    f (!fn    nn|scrue, */
r.fire ("rnePregumeAtnd =")  sp*    f (!fn    nn|keep rnety uxetilebftur t = !age is
gumeubiecW  ied by sp*    f (!fn    nn|checkoth= !age gume st tenuriorfo prnety un ebi.util.sp*    f (!fn    nn|eley
  s s * Custw>T    b>T LISa tob   eley
  s havotentssp*    f (!fn    nn|ses ex apThe rince =   rwit of th@paa    rneAgainute!gumeCompallb   * @p*    f (!fner(f!tneAgain      rwit of th@paat ssrneAgainute(s iryCexetu> 0 ObjonAvailSt   u      l> 0    * @p*    f (!fn} scope
ty ttttt hh//eonAvaild to       * Dttttttt       Availnfir]se  * @p*    f (!fn    r@paramItemd= 

        el, iteme events for            typeil.s, ti= el   * @p*    f (!fn(!fner(fitem..subscribeEvent      rwit of th@paa(!fn(!fner(fitem..subscribeEventu===nhe su++i) {
                        il.s, ti= item..ot[i];
                     } @method fire
     * @pa(!fn        il.s, ti= item.. execution
   [i];
                     }el>
             nnnn}  </ul>
     {{{{{{{{item.v;l), r 
     * @item..ot    * @p*    f (!fn}se  * @p*    f (!fn     ,ecri,aitem, el, r/l),=r]se  * @p*    f (!fn//eonAvaild toeonion
   R/l),ype, tty ttttt   
    i 0,ecri=onAvailSt   u                =i+1e events for            itemd= onAvailSt   [i]   * @p*    f (!fn;;;; i<liteme events for                el  }
    getElmitem.idi   </ul>
             nnnner(fere events for                ;;;; i<litem.checkR/l),      rwit of th@paat ss        ;;;; i<lgumeCompallbu   el.n  *Sibbty u   !tneAgain      rwit of th@paat ssssssssssssssssssr/l),.pushliteme   </ul>
             nnnnnnnnnnnnnnnnonAvailSt   [i]d= =falsel>
             nnnnnnnnnnnnnnnn}  </ul>
     {{{{{{{{{{{{nnnn} @method fire
     * @pa(!fn            r@paramItem el, itemesel>
             nnnnnnnnnnnnnnnnonAvailSt   [i]d= =falsel>
             nnnnnnnnnnnn}  </ul>
     {{{{{{{{{{{{} @method fire
     * @pa(!fn           Avail.pushliteme   </ul>
             nnnn}el>
             nnnn}  </ul>
     {{{{} scope
ty ttttt hh//e.  Thsribeonion
   R/l),dfexecbbftur onAvaild to       * Dttttttt
    i 0,ecri=r/l),.                =i+1e events for            itemd= r/l),[i]   * @p*    f (!fn;;;;r@paramItem 
    getElmitem.idi, itemesel>
             }dssp*    f (!fn    s iryCexet--s);
       n found;er(ftneAgain      rwit of th@paat ss
    i onAvailSt   u      -1   >-1   --scribes subscribbbbbbbbbbbbbitemd= onAvailSt   [i]   * @p*    f (!fn;;;;und;er(f!itemd   !item.idihod fire
     * @pa(!fn        onAvailSt   uspnt</( , 1)was crrrrrrrrrrrrrrrrrrrrr}  </ul>
     {{{{{{{{} scope
ty ttttt hheeeerd suevertIetervarli   </ul>
         } @method fire
     * @pa(!fn i<ldd su_ietervare events for                nn|cstErIetervarldd su_ietervare   * @p*    f (!fnnnnnnnnndd su_ietervar.ca nel(i   </ul>
             nnnndd su_ietervard= =falsel>
             nnnn}  </ul>
     {{{{}dsp*    f (!fn    scrue, ckedute
     *   <llasttttt},d p*    f (!fn/pportunity ttttto
Rwill rib   t lives o ntnd = f   oth= gifauteley
  bviatom L if (!fer.
   ty ttttto
O@type   y,     nod*'btchild 
 T         b>T!urgebis.typety ttttto
O@type   y, youT    a>All yyapa>All ocdas passed int  
  will e       * Dtttto
t @returTurgeEley
    ed wty ttttto
tuhe objHTMLEley
  }.eleby deley
  boo Turge  ed wty ttttto
tuhe obj.lastErro wcurseo wcursifaly Turge 
   teley
  'b child 
 r = nuf (Dtttto
astw>llursUsibwi  lcautype.       * Dtttto
tuhe objsext thesj    o@type  das passe@propertyrs Turgen) {       * Dtttto
left ou* @b   t lives o t  <li>T[]ill bype, tty ttttto tevent
  ed wty ttttto/var arty ttttTurgeEley
   }

       el,  wcurse,}sj   )hod                type El  }l* Subslang.isSerty melifi?}
    getElmere : el   * @p*    f (!fn    rlL lives o  }
    getL lives of(Er,}sj   ),  ,ecri   * @p*    f (!fner(frlL lives o      rwit of th@paat ss
    i rlL lives ou      -1   >-1   --scribes subscribbbbbbbbbbbbb    li= elL lives o[i]   * @p*    f (!fn;;;;t hh s =  will Lparam { (Er,}l.a   ,}l.{b    * @p*    f (!fn;;;;}  </ul>
     {{{{}dsp*    f (!fn    er(f wcurseoObjoEloObjoEl.childNod*r      rwit of th@paat ss
    i 0,cri=oEl.childNod*r.              ; ++i      rwit of th@paat ss    rd su!urgeEley
   oEl.childNod*r[i],  wcurse,}sj   )   * @p*    f (!fn;;;;}  </ul>
     {{{{}dl>
     {{{{},d p*    f (!fn/pportunity ttttto
RwEvent.b   t lives o ntnd = f   oth= gifauteley
  bviatom L if (!fer.
   ty ttttto
O@type   y, youT    a>All yyapa>All ocdas passed int  
  wEven will b * Dtttto
e @returgetL lives or.
   ty ttttto
tuhe obelejHTMLEley
  |perty d  @t eley
  b *
eley
   i nt eina>Al   ed wty ttttto
tuhe obsj    jsext theo@type  das passe@propertyrs  wEven ) {       * Dtttto
left ou* @b   t lives o t  <li>T[],
      ed wty ttttto
ts i>
  o passed       if (!fn)ion
ains st dfollowty ueields:  ed wty ttttto
&nbsp;&nbsp;ts p }  (sext t)   otypas passed int  ed wty ttttto
&nbsp;&nbsp;fn:ttttt(

      )o prev   b   hsrppnt f   oom L if (!fe      * Dtttto
&nbsp;&nbsp;.ot:tttt( the o)   otypcribers the obsrppnt f   oom L if (!fe      * Dtttto
&nbsp;&nbsp;adjrib: (bject betrue
 )rrwhe     o a   
  oomjribnLIscilent
  
     *e      * Dtttto
&nbsp;&nbsp;sco p }(bject b) nLIscilril b il.s, tibastd cr evenhmjribn
     *  e      * Dtttto
&nbsp;&nbsp;i
 *x }(fe
o)    bbits
osti    
ir evenEv
   elsee@propertycd = i) {
         o
tevent
  ed wty ttttto/var arty ttttgetL lives o }

       el, eexce)hod                typerest
 s=[], etErchL lic[i];
             er(f!eexce)hod                    etErchL licnfir@properts, xegumeL lives o]  l>
     {{{{{{{{}aram { i<lsj    == t"fogume")hod                    etErchL licnfirxegumeL lives o]  l>
     {{{{{{{{}aram {od                    ej    =  s = _getTs posj   )                      etErchL licnfir@properts]  l>
     {{{{{{{{} scope
ty ttttt hhtype El  }l* Subslang.isSerty melifi?}
    getElmere : el         * Dttttttt
    typej=0;j<etErchL lic.        j=j+1e events for                etErchL li  }etErchL lic[j]   * @p*    f (!fn;;;; i<letErchL li      rwit of th@paat ss    fo           cri=etErchL li.              ; ++i      rwit of th@paat ss            l  }etErchL li[i]   * @p*    f (!fn;;;;t hh;;;; i<l atnOb l[scrueEL] ===joEloOb  </ul>
             nnnnnnnnnnnnnnnnf!eexcee   sj    === l[scrueTYPE]) )hod) {
            und;ttttttttttttrest
 s.pushl    rwit of th@paat ssssssssssssssssssts p }  l[scrueTYPE],d fire
     * @paaaaaaaaaaaaaaaaaaaaafn:tttttl[scrueFN],d fire
     * @paaaaaaaaaaaaaaaaaaaaa.ot:ttttl[scrueOBJ],d fire
     * @paaaaaaaaaaaaaaaaaaaaaadjrib: l[scrueOVERRIDE],d fire
     * @paaaaaaaaaaaaaaaaaaaaasco p } l[scrueADJ_SCOPE],d fire
     * @paaaaaaaaaaaaaaaaaaaaai
 *x }(iel>
             nnnnnnnnnnnnnnnn}esel>
             nnnnnnnnnnnn}  </ul>
     {{{{{{{{{{{{}  * @p*    f (!fn;;;;}  </ul>
     {{{{}dsp*    f (!fn    s i>
  frest
 s.      fi?}rest
 s : =falsel>
         },d p*    f (!fn/pportunity ttttto
Rwill rib   t lives o reg liv td by Te.ev
  jecC   e   ed wty ttttto
au*
 ent
   yxdurty unatufogume    * er.
   ty ttttto
t @retur_ungume ber tide tttto tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttt_ungume:}

       su++i;
       n found;    EUute* Subselse nce &,  ,ej,}l,ecri,ai
 *x,el>
             nnnnnnnnnulnfifogumeL lives o.snt</(), con
   [iscope
ty ttttt hh//er@param O.utcstErtsto td fogume t lives or.
   ty ttttt tt
    i 0,ecri=fogumeL lives o                ++i      rwit of th@paat sslnfifl[i]   * @p*    f (!fn;;;; i<lre events for                rned+i) {
            und;;;;;;;;;il.s, ti= ts are   * @p*    f (!fn;;;;t hh;;;; i<ll[EUeADJ_SCOPE]      rwit of th@paat ss        ;;;; i<lg[EUeADJ_SCOPE]u===nhe su++i) {
                        ;;;;;;;;il.s, ti= g[EUeUNLOAD_OBJ]sel>
             nnnnnnnnnnnnnnnn} @method fire
     * @pa(!fn            ;;;;il.s, ti= g[EUeADJ_SCOPE]sel>
             nnnnnnnnnnnnnnnn}  </ul>
     {{{{{{{{{{{{nnnn}  </ul>
     {{{{{{{{{{{{nnnng[EUeFN]l), r 
     * @EUegetEv
   e,.g[EUeEL]), g[EUeUNLOAD_OBJ] i   </ul>
     {{{{{{{{nnnn} catch( 1e e}  </ul>
     {{{{{{{{{{{{fl[i]d= =falsel>
             nnnn}  </ul>
     {{{{}dsp*    f (!fn    rd= =falsel>
             il.s, ti= =falsel>
             fogumeL lives od= =false  * @p*    f (!fnnn|Rwill at lives o soEunctio|IE;mwilnedstEkor.
   ty ttttt ttnn|2.5.0 t lives o nnc reill b f *
t <lirowsallbagainjecF(ncFoxtThesalv  ortunity ttttt ttnn|atdstEstus  @tt lives o betwe
ne
 gc refheshec,epo
   i   yxcausty scope
ty ttttt hh//er(thisxdurty u!age gume (mouseovertt lives o firty ubefonc  CC,ype, tty ttttt   //eshoulx eAll();us!f ill ritjec ouse ust @t corre obmoy
  )jlistenty ttttt!fner(flilives o      rwit of th@paat ss
    j=lilives ou      -1  j>-1  j--scribes subscribbbbbbbbbbbbbld= t lives o j]   * @p*    f (!fn;;;;t!fner(flu++i) {
                        rned+i) {
            und;;;;;;;;;;;;;EUe will Lparam { g[EUeEL], g[EUeTYPE],ng[EUeFN],ejesel>
             nnnnnnnnnnnn} catch( 2e e}  </ul>
     {{{{{{{{{{{{}el>
             nnnn}  </ul>
     {{{{{{{{l==false,@p* r eeeeeeeee}dsp*    f (!fn    sned+i) {
            und;EU._simpalRwill  ts are,t"fogume",iEU._fogumeesel>
             nnnnEU._simpalRwill  ts are,t"gume",iEU._gumeesel>
             } catch( 3e e} dl>
     {{{{},d p*    f (!fn/pportunity ttttto
RwEvent.scrollLeftr.
   ty ttttto
t @retur_getScrollLeft ber tide tttto tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttt_getScrollLeft }

           l>
                 var s = _getScroll()[1]bsp*    f (!fn},d p*    f (!fn/pportunity ttttto
RwEvent.scrollTopr.
   ty ttttto
t @retur_getScrollTopr.
   ty ttttto
tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttt_getScrollTop }

           l>
                 var s = _getScroll()[0]   * @p*    f },d p*    f (!fn/pportunity ttttto
RwEvent.LIscscrollTopiO.utacrollLeftursUsif   o), culat * C his.scty ttttto
!ageXOO.ut!ageY in Ieternet Exploncr  ed wty ttttto
t @retur_getScrollr.
   ty ttttto
tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttt_getScroll }

           l>
                 ddutedocsubsc.docsubscEley
  , dbutedocsubsc.bodysel>
             er(fdduObj(dd.scrollTopi   dd.scrollLeftifies the subscriberssssss i>
  [dd.scrollTop, dd.scrollLeft]  l>
     {{{{{{{{}aram { i<ldbfies the subscriberssssss i>
  [db.scrollTop, db.scrollLeft]  l>
     {{{{{{{{}aram {es the subscriberssssss i>
  [0, 0]  l>
     {{{{{{{{} l>
     {{{{},d p*    f (!fn/pportunity ttttto
Usif by old versscrsasse      * a n,o wsto td 
   b   wardor.
   ty ttttto

ompentbilit,ype, tty ttttto then the wgCE  ed wty ttttto
turivat var arty ttttto
tevent
  ed wty ttttto
tdeetscs ex st  <lhv t 
   b   wardo

ompentbilit,ype, tty ttttto/var arty tttt wgCE }

          },d   f (!fn    /pportunity ttttto
Am s a
DOMdev
   dire o yxt n tust @t cachty ,tcstEnup, con
   aadj, et
  ed wty ttttto  ed wty ttttto
t @retur_simpalAm   ed wty ttttto
tuhe objHTMLEley
  }.eleeeeeeby deley
  boo bi.util.Eunction   * @event stttto
tuhe objsext theeeeeesj      otypas passed intfunctionr.
   ty ttttto
tuhe obj

      heeee{boolean prev   b   ht einvokAr.
   ty ttttto
tuhe objbjectnheeeeeecapcribdcapcribd   b<b to phasiortunity ttttto
tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttt_simpalAm  }

              rwit of th@paaer(fts are.add* a nLparam {fies the subscriberssssss i>
  

       el, eexcept{b,dcapcribe events for                el.add* a nLparam {(eexcept{b,d(capcribe)   * @p*    f (!fn;;;;}  l>
     {{{{{{{{}aram { i<lts are.atnd =* a nfies the subscriberssssss i>
  

       el, eexcept{b,dcapcribe events for                el.atnd =* a n("on/ +eeTt. pt{b    * @p*    f (!fn;;;;}  l>
     {{{{{{{{}aram {es the subscriberssssss i>
  

       ){}  l>
     {{{{{{{{} l>
     {{{{}(),d   f (!fn    /pportunity ttttto
Basic  will s@propert       * Dtttto       * Dtttto
then the_simpalRwill   ed wty ttttto
tuhe objHTMLEley
  }.eleeeeeeby deley
  boo bi.util.Eunction   * @event stttto
tuhe objsext theeeeeesj      otypas passed intfunctionr.
   ty ttttto
tuhe obj

      heeee{boolean prev   b   ht einvokAr.
   ty ttttto
tuhe objbjectnheeeeeecapcribdcapcribd   b<b to phasiortunity ttttto
tevent
  ed wty ttttto
turivat var arty ttttto/var arty tttt_simpalRwill  }

           l>
              i<lts are. will * a nLparam {fies the subscriberssssss i>
  

        el, eexcept{b,dcapcribe events for                el. will * a nLparam {(eexcept{b,d(capcribe)   * @p*    f (!fn;;;;}  l>
     {{{{{{{{}aram { i<lts are.dend =* a nfies the subscriberssssss i>
  

        el, eexcept{b      rwit of th@paa        el.dend =* a n("on/ +eeTt. pt{b    * @p*    f (!fn;;;;}  l>
     {{{{{{{{}aram {es the subscriberssssss i>
  

       ){}  l>
     {{{{{{{{} l>
     {{{{}() l>
     }se  * @}((s);
   (

           l>
         EUute* Subselse nce &s);
       /pportunity to
Appendribndefaultunctionurs that a ahodliaane cu<cod*>om L if (!f</cod*>ortunity toortunity to
then thecrwill b * Doortunity to
tuhe objSerty |HTMLEley
  |rs.
 |Nod*L if aratue,ixecutdeley
  ype, tty t*  ean} e new  cuo coobjoverri
  i sbect/onteley
     
 asetom* C his.scty t* e@propertyrs.ortunity to
tuhe objSerty heeesj       |bjecas passed int  
 appendortunity to
tuhe obj * @param {booooooooTjec @returterty fireOnvokAoortunity to
tuhe obj passed aa.otty tAhod bitrary; the ob*Custw  <li>his.scty t* eeeeeeeeeeeeeeeeeeeeeeeeeeeepaseex as a

     *     oth= unctionr.
   ty to
tuhe objBject betrue
 d a.subscribeEventuct sirue,ll(); thepaseex i  b>
omAoortunity to




























terty@paraerricon
   a
        if (!fn) {
tnortunity to




























lw new Err a  the obb>
omAo
terty@paraerrortunity to




























con
   .ortunity to
ts i>
  oBlastErroTcribeAll();aoverriw of uccessful  cudan} ed,ortunity to
























    beAlonbd    fire
      eley
  oortunity to























coulx    
havototyp  if (!f ntnd = f,ortunity to























   eAll(); s tabscrib,ribr
    xceptype.       * Do
tevent
  ed wty to/var arty EU.onuteEU.om L if (!fs);
       /pportunity to
* Subselse nce &&onFo /*t a ahodliaane cuom Fo /*L if (!fe      * Do
then thecrFo /*       * Do
teeeuom Fo /*L if (!fe      * Do
tevent
  ed wty to
tdeetscs ex usib* Subselse nce &&cria.uta>All yypfo /*in" a ust defaulwas p.       * Do/var arty EU.onFo /*tteEU.om Fo /*L if (!fs);
       /pportunity to
* Subselse nce &&onBlurt a ahodliaane cuom BlurL lives e      * Do
then thecrBlur       * Do
teeeuom BlurL lives e      * Do
tevent
  ed wty to
tdeetscs ex usib* Subselse nce &&cria.uta>All yypfo /*out" a ust defaulwas p.       * Do/var arty EU.onBlurtteEU.om BlurL lives s);/*!(DOMR/l),:ibastd cr work b,:iDtEr Edwardo/John Reeto/MntnhiaanMi  er/Diego PertyiDo/v;
       // Ieternet Exploncr: usib @t rel),St ten
  audan} edtacrip .ortunity nn|bjhat aolat riwCustappea o soE   topafebmoy
   soEmanipulat ortunity nn|ck fDOMnuriorfo pwrom by ddecsubsc'btrel),St tensugges  ortunity nn|iobis pafeb o do ss.ortunity  i<lEU.isIEe events for     i<letlf to tetlf.top      rwit of th@paadocsubsc.onrel),st tecuncged= 

           l>
                  i<ldocsubsc.rel),St teno t'
ompallb'      rwit of th@paa        docsubsc.onrel),st tecuncged= =falsel>
             nnnnnnnnEU._r/l),((s)            nnnnnnnn}  </ul>
     {{{{}   * @p*    f }aram {es  </ul>
     {{{{nn|Process onAvaild to/onion
   R/l),ditemcbwrom by   </ul>
     {{{{nn|DOMnibtrel),jlistenty ttttt!fn* Subselse nce &&crDOMR/l),(el>
             nnnnnnnn* Subselse nce &&_rnePregumeAtnd =,el>
             nnnnnnnn* Subselse nce &, he suse  * @p*    f (!fn    nutedocsubsc.cr/ltrEley
   'p'use  * @p*    f (!fnEU._dri  }ettIetervarl

           l>
                 rned+i) {
            und;;;;;nn|ckribr
    rebu  i<docbis
   
r/l),ype, tty ttttttttttttttttn.doScroll('left'esel>
             nnnnnnnncstErIetervarlEU._driesel>
             nnnnnnnnEU._dri  }=falsel>
             nnnnnnnnEU._r/l),((s)            nnnnnnnnttttnd= =falsel>
             nnnn} catch ( x      rwit of th@paat ss}  </ul>
     {{{{},iEU.POLL_INTERVAL was crrrrrrrrr}
ortunity nn|bj ddecsubsc'btrel),St teni  Safarircur 
   yxt  <ortunity nn|cuncgedto
gumeub/
ompallbubefonc imageo nnc gumeubi l>
     }aram { i<lEU.webkit.ObjEU.webkit.< 525u++i;
       n foEU._dri  }ettIetervarl

           l>
             typers=docsubsc.rel),St tesel>
             er(f"gumeub" ==} o || "
ompallb" ==} ofies the subscriberssssscstErIetervarlEU._driesel>
             nnnnEU._dri  }=falsel>
             nnnnEU._r/l),((s)            nnnn} l>
     {{{{},iEU.POLL_INTERVAL waortunity nn|F(ncFoxta.utOpera:|bj s@tbrowsallbiber.
  to   * f  custi ortunity nn|moy
  .ooTjeclat rt WebKi 
r/stEslba  wbsrpport 
   te  * er.
   ty }aram {es  </ul>
     EU._simpalAdd decEvent //DOMion
   Lumeub",iEU._r/l),   r.
   ty }ortunity nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnndssp*    f EU._simpalAdd ts are,t"gume",iEU._gumeesel>
     EU._simpalAdd ts are,t"fogume",iEU._fogumeesel>
     EU._rnePregumeAtnd =((s) ty })((s);}
/ppor*nEv
  Pber.
 rt a deetonif   ob);us!dbwi  l* Subsaugy
   soEtrap
to
CriberE ints  tob 
irterface* Catebllowsed ints ioob);subacribd by sp*ta.ut
YAHb by n   urs that.  Ts|iobost recef  cuimpaly
  ty ucod* bosp*tsubacribd  
 ans will stateei      eve   
ents cr/ltrd yetw  cut  <or*e   
en cr/ltrd ateb   wipor*n@ClasenEv
  Pber.
 r
Do/v* Subselse nce &Pber.
 rt=}

          r}s);* Subselse nce &Pber.
 r.The*oa    ={es  </u/pportunio
Privat tsto age * T ribers willsortunio
tThe LIST
__yui_ willsortunio
ta     passe[]ortunio
tThivat var aro/var a__yui_ wills: =fal,s  </u/pportunio
Privat tsto age * T ribers willtsubacribdrsortunio
tThe LIST
__yui_subacribdrsortunio
ta     passe[]ortunio
tThivat var aro/var a__yui_subacribdrs: =fal,s  </u/pportunio
Subacribd  
 a
CriberE int by efaulwas portunioortunio
t @retursubacribdortunio
tThe obp_t       |jsext theeeotypas pw  cun   u
      ev
        o
tThe obp_{boooooooj

      hest df
      
  b @patram wrom by d   * f exec      o
tThe obp_.otty t bj passed aaAn; the ob*
 b>T!aseex atong wrom by d   *       o





























 exec      o
tThe ob.subscribeEventuj.lastErroct sirue,ll(); thepaseex i  b>
omAo by   </ulo





























y@paraerrisco pa
        if (!fvar aro/var asubacribd }

       p_t   ,bp_{b,bp_.ot,b.subscribeEventu++i;
        s = __yui_ wills =  s = __yui_ wills || {}  l>
     typeie =  s = __yui_ wills[p_t   ]se  * @p*  er(fcbe events for    ce.subacribd(p_{b,bp_.ot,b.subscribeEventu  l>
     }aram {es the subscri s = __yui_subacribdrs =  s = __yui_subacribdrs || {}  l>
         typesuba =  s = __yui_subacribdrs  l>
         er(f!euba[p_t   ]fies the subscriberseuba[p_t   ]nfir]se subscribers} l>
     {{{{euba[p_t   ].pushls the subscribers{afn:tp_{b,b.ot:tp_.ot,b.subscribeEvent:b.subscribeEventu} i   </ul>
 } l>
 },s  </u/pportunio
Unsubacribdslonbd    firet lives o st dfrig e: fa>All oed ev
        o
t @returunsubacribdortunio
tThe obp_t    jsext theeeTtypas pw  cun   u
      ev
  ject sif (ts portunio the subscribers
         eve   
a>All oed, it t  <l wf mpb  
  will ortunio the subscribers
         otyp  if (!f frig t <lhos ex  wills.      o
tThe obp_{boooj * @param Ttypsubacribd bf
      
  bunsubacribd, er(   ortunio the subscribers
         srppnt f @b   subacribdrs t  <li>T[]ill b.      o
tThe obp_.ottyj passed aaTtypcribers the obpaseex   bsubacribdurs that ahis.sco the subscribers
       o@type     (e.ifbsrppnt f t  <li>Tusd by sp*   o the subscribers
       disambiguat tmt
 tpalet lives o statebrib @t sam ortunio the subscribers
       (e.g., youTsubacribd manyp the obusty uat

       overro the subscribers
       statelivdslonoth= !he*oa   )      o
ts i>
  o.lastErrotcribeAll();subacribdriw offent  a.utdend = b.      o/var aunsubacribd }

       p_t   ,bp_{b,bp_.otfies the sub s = __yui_ wills =  s = __yui_ wills || {}  l>
     typeevls =  s = __yui_ wills  l>
     er(fp_t   fies the subscritypeie = evls[p_t   ]se the subscrier(fcbe events for        s i>
  ce.unsubacribd(p_{b,bp_.ot was crrrrrrrrr}
rrrrrrrr}aram {es the subscrityperetuted
     * from the fo         i  evls    l>
              i<l* Subslang. evOwnPhe LIST(evls, eifies the subscriberssssss id= r/t.Objevls[i].unsubacribd(p_{b,bp_.ot was crrrrrrrrrrrrr}
rrrrrrrrrrrr}
rrrrrrrrrrrrs i>
  ret   * @p*  }
ortunity n the evns(fn, obj},s  </u/pportunio
Rwill rib   t lives o frig e: fa>All oed ev
  ject sif (efaulwas portunio eve   
a>All oed, b   t lives o frig t <lhos ex  ribers willsxt  <ortuni*li>T[]ill b.      o
t @returunsubacribdA <ortuni*ltThe obp_t    jsext theeeTtypas pw  cun   u
      ev
        o/var aunsubacribdAll }

       p_t   fies the sub    var s = unsubacribd(p_t   )      },s  </u/pportunio
Cr/ltrs a
new  ribers willt
      a>All oed as p.ect sa cribers will   rwi* by staten   ualr/l),
y@ lic, it t  <l   
en re-cr/ltrd.ectneei       rwi* 
   rotypcribersy fireOnc[],
    .      o      o
t @returcr/ltrEwill   rwi*ortuni*ltThe obp_t    jsext theotypas pw  cun   u
      ev
        o
tThe obp_config {true
 d o@type  dconfig The osersV obj The LISi ribre:   rwi*ortuni*l <ul> overro the<li> overro theaasco p } eventanLIscilent
  y@paraerrisco p.ect s   
 eventd overro theaaLIscilent
  sco pat  <li>T
   tinsta ne. overro the</li> overro the<li> overro theaasil
   }i sirue,ll();cribersy firet  <l   
ge(!fat  log mAosageo. overro theaa that a 
    bbycilent
 . overro the</li> overro the<li> overro theaa exeO ne }i sirue,ll();cribersy firet  <lonly    ifytsubacribdrsortunio





o necregardless o      numbdrio   imAo
terty fireOnc
YAHb.ectnortunio





addi    ,
new subacribdrs t  <li>Ty</ul>
  immedince =beAll()ortunio





efaultunsualr/l),

YAHb. overro theaa that a 
    bbycilent
 . overro the</li> overro the<li> overro theaaonSubacribdC   b   : a>All oes a
c   b   ht er@param wrom by   </ulo





efaultunsua
new subacribdrurs thatt  <l
YAH immedince =bframeterso





ed =uqueued;subacribdriif anypy@ linuriorfo prhn cr/lterri
  overro theaaLIsce  * er.
   o the</li> overro t</ul> overro overro tts i>
  oCriberE int}ll();cribersy fir overro overro/var acr/ltrEwill }

       p_t   ,bp_configu++i;
        s = __yui_ wills =  s = __yui_ wills || {}  l>
     typeo@ts = p_config || {},el>
          wills =  s = __yui_ wills, cese  * @p*  er(f wills[p_t   ]u++i=[].sideCo"nce &Pber.
 rtcr/ltrEwill skipped: '"+p_t   +"'ualr/l),
y@ lic"u  l>
     }aram {esel>
         ie = new * Subselse       * a n(p_t   ,bo@ts.sco pa||  s =,bo@ts.sil
  ,el>
             nnnnnnnnn* Subselse       * a n.FLAT,bo@ts. exeO neuse  * @p*    f  wills[p_t   ].ldc  *   <llasttttter(f @ts.onSubacribdC   b   fies the subscribersce.subacribd* a n.subacribd( @ts.onSubacribdC   b   fwas crrrrrrrrr}
ortunity      s = __yui_subacribdrs =  s = __yui_subacribdrs || {}  l>
         typeqs =  s = __yui_subacribdrs[p_t   ]se  * @p*  tttter(fqs    l>
             fo              qo         ++i      rwit of th@paat ssce.subacribd(qs[i].{b,bqs[i]..ot,bqs[i]..subscribeEventu  l>
     rrrrrrrr}
    rrrrrrrr}
    rrrr}
ortunity n the e wills[p_t   ]serrrr},d    f/pportunio
F(nc a cribers will by n   urs trev   b   h

      s t  <li>Ty</ul>
 ortunio
frig e: faco paa>All oed wrom by d   * fw ofcr/ltrd, a.utwi  lby   </ulo
followty u
     *  s:  ed wo th<ul> overro th<li>Tt dfexs bhe subsc  exe((fw ofy</ul>
  wi  </li> overro th<li>Tt dcribers the ob(if any)b*Custw ofpaseex i o prhn subacribd() overro thhhhh @retu</li> overro th</ul> overro
t @retur exeEv
        o
tThe obp_t       jsext theeotypas pw  cun   u
      ev
        o
tThe obhe subscr
j passe*} ahod bitrary;selt
  
     *  syrs Taseny sp*   o the subscribers
           th= unction.      o
ts i>
  o.lastErroth>T[],
   tyou bfrig       * a n. exe overro overro/var a exeEv
   }

       p_t   fies;
        s = __yui_ wills =  s = __yui_ wills || {}  l>
     typeie =  s = __yui_ wills[p_t   ]se  * @p*  er(f!cbe ev=[].sideCop_t    + "   * f exex befonc i fw ofcr/ltrd.o    * @p*    f [],
   =falsel>
     }
ortunity typehe snfir]se subscrifo         1   <he subscr         ++i      rwit of thhe s.pushlhe subscr[i]i   </ul>
 } l>
   f [],
   ce. exe.apply(new he s)      },s  </u/pportunio
RwEvent.LcribeAll(); ribers willt
      iber.
 d as ptunsuents cr/ltrdortunio
wi  lcr/ltrEwill.      o
t @returunsEv
        o
tThe obt    jsext theotypas pw  cun   u
      ev
        o/var aunsEv
   }

       t   fies the sub i<ldd su__yui_ willse events for     i<l s = __yui_ wills[t   ]fies the subscribers    var 
     * from the }  </ul>
 } l>
   f [],
   vns(fn, obj}

}s);l

           
ity typeEv
   =n* Subselse nce &, Lay u=n* Subslangs);/**
* KeyL lives t a a elseity stateiber.
 r
    asy
irterface*fo  t livety ueram* keydown/keyup  wills 
YAHb Ogainst DOMdeley
  o. o
tn   space** Subselse o
tclasenKeyL lives  o
tcl.Cuructor
o
tuhe objHTMLEley
  }.ntnd =Tos treeley
  b *
eley
   IDfo pwric lby  key
o the subscribers
            

efaultshoulx    ttnd = f
o
tuhe objSext theeeeeentnd =Tos treeley
  b *
eley
   IDfo pwric lby  key
o the subscribers
            

efaultshoulx    ttnd = f
o
tuhe obj passed aaaaakeyData s tre the obeit!fal []Thesantty unatukey(s)
o the subscribers
            

 o d * ct. Pst recefttnribut ribre
o the subscribers
            

shift(bject b), b t(bject b), ctrl(bject b)
o the subscribers
            

a.utkeys(ei     b 
irt  *
thoa firi
  illsoo the subscribers
            

[]Thesantty ukeycod*r .
o
tuhe objF
      heeeeunction s treCriberE int unction   l
YAH wrom by  o the subscribers
            

keyty fireOncd * l ex
o
tuhe obj passed aaaaaunction sAn; the obeit!fal []Thesantty unatuunction. o
tuhe objSext theeeeeey fireeeeO@type  .s tree fire(keydown  *
keyup)ny so the subscribers
            

t liveuera. Dlent
 s
au*
 ent
   yx  lkeydown. o o
tknownissueunatu"keyThess"ty fireOnc
ompallb yxbrokenni  Safarir2.xta.utbelow.so the subscribnatuworkarent  Oncusib"keydown"*fo  keytt livety ursHowy fr, erso the subscribitt a deetrex   bThewill stscilent
  behaviorf
      keystroke,so the subscribnaatT    only b ddenbd n     keyThess ev
  jec that.  Ts|key
o the subscribunctity uquit! ugly. o
tknownissueukeydown  a a    brokenni  Safarir2.xta.utbelowbe cust dESCukey.so the subscribThv t cur 
   yxeve  uworkarent  o     naas choosty uano    so the subscribkeytto
g liveuera.
o/v* Subselse KeyL lives t=}

       ntnd =To,akeyData,uunction, ev
  fies theer(f!ntnd =Tofies the sub=[].sideCo"Noentnd =Toseley
   a>All oed  // rebuo    * @}aram { i<l!keyDatafies the sub=[].sideCo"NoekeyData a>All oed  // rebuo    * @}aram { i<l!unctionfies the sub=[].sideCo"Noeunction a>All oed  // rebuo    * @}
s theer(f!ev
  fies theeeeeev
   =n* Subselse KeyL lives .KEYDOWN   * @}
s the/pportun*s treCriberE int 
YAHb irtere   y wrom abkeytistThessrdortuno @ will keyEv
       o
tThivat var ao
tuhe obj passed keyData  tre the obeit!fal []Thesantty unatukey(s)ny sp*  o the subscribers
        d * ct. Pst recefttnribut ribre
shift(bject b),sp*  o the subscribers
        b t(bject b), ctrl(bject b)
a.utkeys(ei     b sp*  o the subscribers
        irt  *
thoa firi
  ills
[]Thesantty ukeycod*r .
p*  o/
ity typekeyEv
   = new * Subselse       * a n("keyPhessrd")  sp*  /pportun*s treCriberE int 
YAHb wrom by dKeyL lives t a end todbviat    end to() over*t

       overo @ will end todEv
       o
tThe obj passed keyData  tre the obeit!fal []Thesantty unatukey(s)ny sp*  o the subscribers
        d * ct. Pst recefttnribut ribre
shift(bject b),sp*  o the subscribers
        b t(bject b), ctrl(bject b)
a.utkeys(ei     b sp*  o the subscribers
        irt  *
thoa firi
  ills
[]Thesantty ukeycod*r .
p*  o/
ity  s = end todEv
   = new * Subselse       * a n("end tod")  sp*  /pportun*s treCriberE int 
YAHb wrom by dKeyL lives t a disa todbviat   ortun*sdisa to   

       overo @ will disa todEv
       o
tThe obj passed keyData  tre the obeit!fal []Thesantty unatukey(s)ny sp*  o the subscribers
        d * ct. Pst recefttnribut ribre
shift(bject b),sp*  o the subscribers
        b t(bject b), ctrl(bject b)
a.utkeys(ei     b sp*  o the subscribers
        irt  *
thoa firi
  ills
[]Thesantty ukeycod*r .
p*  o/
ity  s = disa todEv
   = new * Subselse       * a n("disa tod")  sp*  er(fLang.isSerty mntnd =Toffies theeeeentnd =Tos=bdocsubsc.getEley
  ByIamntnd =Tof; nn|NoeDom else  * @}
s theer(fLang.isF
      (unctionffies theeeeekeyEv
  .subacribd(unctionf   * @}aram {es theeeeekeyEv
  .subacribd(unction.{b,bunction.aco p,bunction.corre oSco p)   * @}
s the/pportun*sHnctiosunatukeyd   * fwrom abkeytistThessrd.     o
t @returunctioKeyPhess     o
tThe objDOME int}l    T   keyThess DOMdev
       o
tThe obj passed aa.ottTk fDOMnefaultsco pa
passe     o
tThivat var ao/var a 
      
unctioKeyPhess e,..otfies the suber(f! keyData.shiftfies the subscrikeyData.shiftute
     * subscri}s the suber(f! keyData.b tfies the subscrikeyData.b tute
     * subscri}s the suber(f! keyData.ctrlfies the subscrikeyData.ctrlute
     * subscri}s* subscrinn|checkohelx down modifyty ukeysdfexs s the suber(fe.shiftKey ==}keyData.shiftuOb  </ul>
     e.b tKey   ==}keyData.b tuOb  </ul>
     e.ctrlKey  ==}keyData.ctrlfie nn|iftw>TTasenys =,bt <lmodifi  symatche  * @p*  tttt    dataItem, keysd=}keyData.keys, keyse  * @p*  tttter(f* Subslang.isrs.
 (keysifies the subscribersfo           i<keys        i++      rwit of th@paat ssdataItemd=}keyo[i]   * @p*    f (!fn;;;;keyt=eEv
  .getCharCod*(suse  * @p*    f (!fntttter(fdataItemd==}key      rwit of th@paa        keyEv
  . exe(key, e(s)            nnnnnnnnttttbreaks)            nnnnnnnn}  </ul>
     {{{{}  * from the }aram {es the subscriberskeyt=eEv
  .getCharCod*(susep*    f (!fntttter(fkeysd==}key )hod) {
            und;keyEv
  . exe(key, e(s)            nnnn}
    rrrrrrrr}
    rrrr}
rrrr}
s the/pportun*sEnd tos by dKeyL lives tbyentnd =ty unatuDOMnefaultt lives o soE   ortun*starget DOMdeley
       o
t @returend to
p*  o/
ity  s = end tod= 

           l>
     er(f!  s = end tod)hod) {
        nce &&cr ntnd =To,aece &, unctioKeyPhess(s)             s = end todEv
  . exe(keyDataf * subscri}s the sub/pportunity * BlastErai
 icabsy unatuend tod/disa todbst ten
  natuTlastiportunity * tThe LIST
end todortunity * tt    BlastErortunity */var arty  s = end toduted
     * f}  sp*  /pportun*sDisa tos by dKeyL lives tbye[]illty unatuDOMnefaultt lives o frig e: ortun*starget DOMdeley
       o
t @returdisa to
p*  o/
ity  s = disa tod= 

           l>
     er(f s = end tod)hod) {
        nce && will Lparam { ntnd =To,aece &, unctioKeyPhess(s)             s = disa todEv
  . exe(keyDataf * subscri}s the sub s = end todutevns(fn, obj}  sp*  /pportun*sRwEvent.b Serty 
[]Thesantlterri
 ll(); th ct.     o
t @returtoSerty      o
ts i>
  oSext theeTtypserty 
[]Thesantlterri
 ll();KeyL lives  p*  o/
ity  s = toSerty d= 

           l>
     s i>
  "KeyL lives t[/ +ekeyData.keys + "] / +entnd =To.tagN   u+)            nnnn ntnd =To.id ? "[/ +entnd =To.id + "]" : "o    * @};

}s);    KeyL lives t=}* Subselse KeyL lives s);/**
io
Consta t []Thesantty unatuDOMd"keydown"*e  * er.* tThe LIST
* Subselse KeyL lives .KEYDOWNr.* tevent
  * tfina<or*ett    Serty   o/
KeyL lives .KEYDOWNt=}"keydown"s);/**
io
Consta t []Thesantty unatuDOMd"keyup"*e  * er.* tThe LIST
* Subselse KeyL lives .KEYUPr.* tevent
  * tfina<or*ett    Serty   o/
KeyL lives .KEYUPt=}"keyup"s);/**
io
keycod* consta tane cuo subaelt
      a>Allal keysr.* tThe LIST
KEYr.* tevent
  * tfina<or*/
KeyL lives .KEY ={es * @ALT      nnnn: 18,sp*  BACK_SPACEnnn: 8,sp*  CAPS_LOCKnnnn: 20,sp*  CONTROL  nnnn: 17,sp*  DELETE   nnnn: 46,sp*  DOWNt    nnnn: 40,sp*  END      nnnn: 35,sp*  ENTER    nnnn: 13,sp*  ESCAPE   nnnn: 27,sp*  HOME     nnnn: 36,sp*  LEFT     nnnn: 37,sp*  META     nnnn: 224,sp*  NUM_LOCKnnnnn: 144,sp*  PAGE_DOWNt   : 34,sp*  PAGE_UPt nnnn: 33,sp*  PAUSE    nnnn: 19,sp*  PRINTSCREENnn: 44,sp*  RIGHT    nnnn: 39,sp*  SCROLL_LOCKnn: 145,sp*  SHIFT    nnnn: 16,sp*  SPACEnnn nnnn: 32,sp*  TAB      nnnn: 9,sp*  UPt nnnn nnnn: 38
}s);})((s)* Subsreg liv ("   * ",n* Subselse nce &, {versscr: "2.9.0"   (ild: "2800"}ese